(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ho(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const le={},ln=[],Ke=()=>{},zl=()=>!1,Lr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$o=e=>e.startsWith("onUpdate:"),we=Object.assign,Wo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Xl=Object.prototype.hasOwnProperty,Z=(e,t)=>Xl.call(e,t),Q=Array.isArray,Mn=e=>Nr(e)==="[object Map]",Yl=e=>Nr(e)==="[object Set]",z=e=>typeof e=="function",Ae=e=>typeof e=="string",vn=e=>typeof e=="symbol",he=e=>e!==null&&typeof e=="object",Fi=e=>(he(e)||z(e))&&z(e.then)&&z(e.catch),Jl=Object.prototype.toString,Nr=e=>Jl.call(e),Zl=e=>Nr(e).slice(8,-1),kl=e=>Nr(e)==="[object Object]",jo=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,On=Ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ur=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ea=/-(\w)/g,ht=Ur(e=>e.replace(ea,(t,n)=>n?n.toUpperCase():"")),ta=/\B([A-Z])/g,En=Ur(e=>e.replace(ta,"-$1").toLowerCase()),Br=Ur(e=>e.charAt(0).toUpperCase()+e.slice(1)),kr=Ur(e=>e?`on${Br(e)}`:""),jt=(e,t)=>!Object.is(e,t),eo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Hi=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},na=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Rs;const $i=()=>Rs||(Rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ko(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ae(r)?ia(r):Ko(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(Ae(e)||he(e))return e}const ra=/;(?![^(]*\))/g,oa=/:([^]+)/,sa=/\/\*[^]*?\*\//g;function ia(e){const t={};return e.replace(sa,"").split(ra).forEach(n=>{if(n){const r=n.split(oa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Go(e){let t="";if(Ae(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const r=Go(e[n]);r&&(t+=r+" ")}else if(he(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ca="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",la=Ho(ca);function Wi(e){return!!e||e===""}/**
* @vue/reactivity v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class aa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){Xe=this}off(){Xe=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function ua(e,t=Xe){t&&t.active&&t.effects.push(e)}function fa(){return Xe}let Jt;class qo{constructor(t,n,r,o){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ua(this,o)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Gt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed){if(n.computed.effect._dirtyLevel===2)return Pt(),!0;if(ha(n.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Pt()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Bt,n=Jt;try{return Bt=!0,Jt=this,this._runnings++,Ss(this),this.fn()}finally{Ms(this),this._runnings--,Jt=n,Bt=t}}stop(){this.active&&(Ss(this),Ms(this),this.onStop&&this.onStop(),this.active=!1)}}function ha(e){return e.value}function Ss(e){e._trackId++,e._depsLength=0}function Ms(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ji(e.deps[t],e);e.deps.length=e._depsLength}}function ji(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Bt=!0,ho=0;const Ki=[];function Gt(){Ki.push(Bt),Bt=!1}function Pt(){const e=Ki.pop();Bt=e===void 0?!0:e}function Vo(){ho++}function Qo(){for(ho--;!ho&&po.length;)po.shift()()}function Gi(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&ji(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const po=[];function qi(e,t,n){Vo();for(const r of e.keys()){let o;if(!e.computed&&r.computed&&r._runnings>0&&(o??(o=e.get(r)===r._trackId))){r._dirtyLevel=2;continue}r._dirtyLevel<t&&(o??(o=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r.computed&&r._dirtyLevel===2&&(r._shouldSchedule=!0),r._dirtyLevel=t),r._shouldSchedule&&(o??(o=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==3&&(r._shouldSchedule=!1,r.scheduler&&po.push(r.scheduler)))}Qo()}const Vi=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},mo=new WeakMap,Zt=Symbol(""),_o=Symbol("");function Te(e,t,n){if(Bt&&Jt){let r=mo.get(e);r||mo.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Vi(()=>r.delete(n))),Gi(Jt,o)}}function wt(e,t,n,r,o,s){const i=mo.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&Q(e)){const l=Number(r);i.forEach((a,u)=>{(u==="length"||!vn(u)&&u>=l)&&c.push(a)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":Q(e)?jo(n)&&c.push(i.get("length")):(c.push(i.get(Zt)),Mn(e)&&c.push(i.get(_o)));break;case"delete":Q(e)||(c.push(i.get(Zt)),Mn(e)&&c.push(i.get(_o)));break;case"set":Mn(e)&&c.push(i.get(Zt));break}Vo();for(const l of c)l&&qi(l,5);Qo()}const da=Ho("__proto__,__v_isRef,__isVue"),Qi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vn)),Os=pa();function pa(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=re(this);for(let s=0,i=this.length;s<i;s++)Te(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(re)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Gt(),Vo();const r=re(this)[t].apply(this,n);return Qo(),Pt(),r}}),e}function ma(e){vn(e)||(e=String(e));const t=re(this);return Te(t,"has",e),t.hasOwnProperty(e)}class zi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?Oa:Zi:s?Ji:Yi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=Q(t);if(!o){if(i&&Z(Os,n))return Reflect.get(Os,n,r);if(n==="hasOwnProperty")return ma}const c=Reflect.get(t,n,r);return(vn(n)?Qi.has(n):da(n))||(o||Te(t,"get",n),s)?c:Le(c)?i&&jo(n)?c:c.value:he(c)?o?ec(c):Hr(c):c}}class Xi extends zi{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(!this._isShallow){const l=Hn(s);if(!Pr(r)&&!Hn(r)&&(s=re(s),r=re(r)),!Q(t)&&Le(s)&&!Le(r))return l?!1:(s.value=r,!0)}const i=Q(t)&&jo(n)?Number(n)<t.length:Z(t,n),c=Reflect.set(t,n,r,o);return t===re(o)&&(i?jt(r,s)&&wt(t,"set",n,r):wt(t,"add",n,r)),c}deleteProperty(t,n){const r=Z(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&wt(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!vn(n)||!Qi.has(n))&&Te(t,"has",n),r}ownKeys(t){return Te(t,"iterate",Q(t)?"length":Zt),Reflect.ownKeys(t)}}class _a extends zi{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ga=new Xi,va=new _a,Ea=new Xi(!0);const zo=e=>e,Fr=e=>Reflect.getPrototypeOf(e);function ar(e,t,n=!1,r=!1){e=e.__v_raw;const o=re(e),s=re(t);n||(jt(t,s)&&Te(o,"get",t),Te(o,"get",s));const{has:i}=Fr(o),c=r?zo:n?Jo:$n;if(i.call(o,t))return c(e.get(t));if(i.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function ur(e,t=!1){const n=this.__v_raw,r=re(n),o=re(e);return t||(jt(e,o)&&Te(r,"has",e),Te(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function fr(e,t=!1){return e=e.__v_raw,!t&&Te(re(e),"iterate",Zt),Reflect.get(e,"size",e)}function Cs(e){e=re(e);const t=re(this);return Fr(t).has.call(t,e)||(t.add(e),wt(t,"add",e,e)),this}function xs(e,t){t=re(t);const n=re(this),{has:r,get:o}=Fr(n);let s=r.call(n,e);s||(e=re(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,t),s?jt(t,i)&&wt(n,"set",e,t):wt(n,"add",e,t),this}function Is(e){const t=re(this),{has:n,get:r}=Fr(t);let o=n.call(t,e);o||(e=re(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&wt(t,"delete",e,void 0),s}function Ds(){const e=re(this),t=e.size!==0,n=e.clear();return t&&wt(e,"clear",void 0,void 0),n}function hr(e,t){return function(r,o){const s=this,i=s.__v_raw,c=re(i),l=t?zo:e?Jo:$n;return!e&&Te(c,"iterate",Zt),i.forEach((a,u)=>r.call(o,l(a),l(u),s))}}function dr(e,t,n){return function(...r){const o=this.__v_raw,s=re(o),i=Mn(s),c=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,a=o[e](...r),u=n?zo:t?Jo:$n;return!t&&Te(s,"iterate",l?_o:Zt),{next(){const{value:h,done:m}=a.next();return m?{value:h,done:m}:{value:c?[u(h[0]),u(h[1])]:u(h),done:m}},[Symbol.iterator](){return this}}}}function xt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ba(){const e={get(s){return ar(this,s)},get size(){return fr(this)},has:ur,add:Cs,set:xs,delete:Is,clear:Ds,forEach:hr(!1,!1)},t={get(s){return ar(this,s,!1,!0)},get size(){return fr(this)},has:ur,add:Cs,set:xs,delete:Is,clear:Ds,forEach:hr(!1,!0)},n={get(s){return ar(this,s,!0)},get size(){return fr(this,!0)},has(s){return ur.call(this,s,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:hr(!0,!1)},r={get(s){return ar(this,s,!0,!0)},get size(){return fr(this,!0)},has(s){return ur.call(this,s,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:hr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=dr(s,!1,!1),n[s]=dr(s,!0,!1),t[s]=dr(s,!1,!0),r[s]=dr(s,!0,!0)}),[e,n,t,r]}const[wa,Aa,ya,Pa]=ba();function Xo(e,t){const n=t?e?Pa:ya:e?Aa:wa;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Z(n,o)&&o in r?n:r,o,s)}const Ra={get:Xo(!1,!1)},Sa={get:Xo(!1,!0)},Ma={get:Xo(!0,!1)};const Yi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Oa=new WeakMap;function Ca(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xa(e){return e.__v_skip||!Object.isExtensible(e)?0:Ca(Zl(e))}function Hr(e){return Hn(e)?e:Yo(e,!1,ga,Ra,Yi)}function ki(e){return Yo(e,!1,Ea,Sa,Ji)}function ec(e){return Yo(e,!0,va,Ma,Zi)}function Yo(e,t,n,r,o){if(!he(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=xa(e);if(i===0)return e;const c=new Proxy(e,i===2?r:n);return o.set(e,c),c}function Cn(e){return Hn(e)?Cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Hn(e){return!!(e&&e.__v_isReadonly)}function Pr(e){return!!(e&&e.__v_isShallow)}function tc(e){return e?!!e.__v_raw:!1}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function Ia(e){return Object.isExtensible(e)&&Hi(e,"__v_skip",!0),e}const $n=e=>he(e)?Hr(e):e,Jo=e=>he(e)?ec(e):e;class nc{constructor(t,n,r,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new qo(()=>t(this._value),()=>mr(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=re(this),n=t.effect._dirtyLevel;return(!t._cacheable||t.effect.dirty)&&jt(t._value,t._value=t.effect.run())&&n!==3&&mr(t,5),rc(t),t.effect._dirtyLevel>=2&&mr(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Da(e,t,n=!1){let r,o;const s=z(e);return s?(r=e,o=Ke):(r=e.get,o=e.set),new nc(r,o,s||!o,n)}function rc(e){var t;Bt&&Jt&&(e=re(e),Gi(Jt,(t=e.dep)!=null?t:e.dep=Vi(()=>e.dep=void 0,e instanceof nc?e:void 0)))}function mr(e,t=5,n,r){e=re(e);const o=e.dep;o&&qi(o,t)}function Le(e){return!!(e&&e.__v_isRef===!0)}function Ta(e){return oc(e,!1)}function La(e){return oc(e,!0)}function oc(e,t){return Le(e)?e:new Na(e,t)}class Na{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:re(t),this._value=n?t:$n(t)}get value(){return rc(this),this._value}set value(t){const n=this.__v_isShallow||Pr(t)||Hn(t);t=n?t:re(t),jt(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:$n(t),mr(this,5))}}function an(e){return Le(e)?e.value:e}const Ua={get:(e,t,n)=>an(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Le(o)&&!Le(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function sc(e){return Cn(e)?e:new Proxy(e,Ua)}/**
* @vue/runtime-core v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ft(e,t,n,r){try{return r?e(...r):e()}catch(o){$r(o,t,n)}}function nt(e,t,n,r){if(z(e)){const o=Ft(e,t,n,r);return o&&Fi(o)&&o.catch(s=>{$r(s,t,n)}),o}if(Q(e)){const o=[];for(let s=0;s<e.length;s++)o.push(nt(e[s],t,n,r));return o}}function $r(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const a=s.ec;if(a){for(let u=0;u<a.length;u++)if(a[u](e,i,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Gt(),Ft(l,null,10,[e,i,c]),Pt();return}}Ba(e,n,o,r)}function Ba(e,t,n,r=!0){console.error(e)}let Wn=!1,go=!1;const Re=[];let ut=0;const un=[];let Tt=null,zt=0;const ic=Promise.resolve();let Zo=null;function cc(e){const t=Zo||ic;return e?t.then(this?e.bind(this):e):t}function Fa(e){let t=ut+1,n=Re.length;for(;t<n;){const r=t+n>>>1,o=Re[r],s=jn(o);s<e||s===e&&o.pre?t=r+1:n=r}return t}function ko(e){(!Re.length||!Re.includes(e,Wn&&e.allowRecurse?ut+1:ut))&&(e.id==null?Re.push(e):Re.splice(Fa(e.id),0,e),lc())}function lc(){!Wn&&!go&&(go=!0,Zo=ic.then(uc))}function Ha(e){const t=Re.indexOf(e);t>ut&&Re.splice(t,1)}function $a(e){Q(e)?un.push(...e):(!Tt||!Tt.includes(e,e.allowRecurse?zt+1:zt))&&un.push(e),lc()}function Ts(e,t,n=Wn?ut+1:0){for(;n<Re.length;n++){const r=Re[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Re.splice(n,1),n--,r()}}}function ac(e){if(un.length){const t=[...new Set(un)].sort((n,r)=>jn(n)-jn(r));if(un.length=0,Tt){Tt.push(...t);return}for(Tt=t,zt=0;zt<Tt.length;zt++){const n=Tt[zt];n.active!==!1&&n()}Tt=null,zt=0}}const jn=e=>e.id==null?1/0:e.id,Wa=(e,t)=>{const n=jn(e)-jn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uc(e){go=!1,Wn=!0,Re.sort(Wa);try{for(ut=0;ut<Re.length;ut++){const t=Re[ut];t&&t.active!==!1&&Ft(t,null,14)}}finally{ut=0,Re.length=0,ac(),Wn=!1,Zo=null,(Re.length||un.length)&&uc()}}function ja(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||le;let o=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in r){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:m}=r[u]||le;m&&(o=n.map(v=>Ae(v)?v.trim():v)),h&&(o=n.map(na))}let c,l=r[c=kr(t)]||r[c=kr(ht(t))];!l&&s&&(l=r[c=kr(En(t))]),l&&nt(l,e,6,o);const a=r[c+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,nt(a,e,6,o)}}function fc(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},c=!1;if(!z(e)){const l=a=>{const u=fc(a,t,!0);u&&(c=!0,we(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(he(e)&&r.set(e,null),null):(Q(s)?s.forEach(l=>i[l]=null):we(i,s),he(e)&&r.set(e,i),i)}function Wr(e,t){return!e||!Lr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Z(e,t[0].toLowerCase()+t.slice(1))||Z(e,En(t))||Z(e,t))}let ke=null,hc=null;function Rr(e){const t=ke;return ke=e,hc=e&&e.type.__scopeId||null,t}function _r(e,t=ke,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&qs(-1);const s=Rr(t);let i;try{i=e(...o)}finally{Rr(s),r._d&&qs(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function to(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:i,attrs:c,emit:l,render:a,renderCache:u,props:h,data:m,setupState:v,ctx:I,inheritAttrs:P}=e,T=Rr(e);let y,w;try{if(n.shapeFlag&4){const A=o||r,C=A;y=at(a.call(C,A,u,h,v,m,I)),w=c}else{const A=t;y=at(A.length>1?A(h,{attrs:c,slots:i,emit:l}):A(h,null)),w=t.props?c:Ka(c)}}catch(A){Dn.length=0,$r(A,e,1),y=Me(Kn)}let p=y;if(w&&P!==!1){const A=Object.keys(w),{shapeFlag:C}=p;A.length&&C&7&&(s&&A.some($o)&&(w=Ga(w,s)),p=pn(p,w,!1,!0))}return n.dirs&&(p=pn(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),y=p,Rr(T),y}const Ka=e=>{let t;for(const n in e)(n==="class"||n==="style"||Lr(n))&&((t||(t={}))[n]=e[n]);return t},Ga=(e,t)=>{const n={};for(const r in e)(!$o(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function qa(e,t,n){const{props:r,children:o,component:s}=e,{props:i,children:c,patchFlag:l}=t,a=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ls(r,i,a):!!i;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const m=u[h];if(i[m]!==r[m]&&!Wr(a,m))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===i?!1:r?i?Ls(r,i,a):!0:!!i;return!1}function Ls(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Wr(n,s))return!0}return!1}function Va({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const dc="components";function vo(e,t){return za(dc,e,!0,t)||e}const Qa=Symbol.for("v-ndc");function za(e,t,n=!0,r=!1){const o=ke||Se;if(o){const s=o.type;if(e===dc){const c=ju(s,!1);if(c&&(c===t||c===ht(t)||c===Br(ht(t))))return s}const i=Ns(o[e]||s[e],t)||Ns(o.appContext[e],t);return!i&&r?s:i}}function Ns(e,t){return e&&(e[t]||e[ht(t)]||e[Br(ht(t))])}const Xa=e=>e.__isSuspense;function Ya(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):$a(e)}function jr(e,t,n=Se,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{Gt();const c=nr(n),l=nt(t,n,e,i);return c(),Pt(),l});return r?o.unshift(s):o.push(s),s}}const Rt=e=>(t,n=Se)=>{(!Gr||e==="sp")&&jr(e,(...r)=>t(...r),n)},Ja=Rt("bm"),Za=Rt("m"),ka=Rt("bu"),eu=Rt("u"),tu=Rt("bum"),pc=Rt("um"),nu=Rt("sp"),ru=Rt("rtg"),ou=Rt("rtc");function su(e,t=Se){jr("ec",e,t)}function Vt(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let i=0;i<o.length;i++){const c=o[i];s&&(c.oldValue=s[i].value);let l=c.dir[r];l&&(Gt(),nt(l,n,8,[e.el,c,e,t]),Pt())}}/*! #__NO_SIDE_EFFECTS__ */function mc(e,t){return z(e)?we({name:e.name},t,{setup:e}):e}const gr=e=>!!e.type.__asyncLoader,Eo=e=>e?Lc(e)?rs(e):Eo(e.parent):null,xn=we(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Eo(e.parent),$root:e=>Eo(e.root),$emit:e=>e.emit,$options:e=>es(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ko(e.update)}),$nextTick:e=>e.n||(e.n=cc.bind(e.proxy)),$watch:e=>Ru.bind(e)}),no=(e,t)=>e!==le&&!e.__isScriptSetup&&Z(e,t),iu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:c,appContext:l}=e;let a;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(no(r,t))return i[t]=1,r[t];if(o!==le&&Z(o,t))return i[t]=2,o[t];if((a=e.propsOptions[0])&&Z(a,t))return i[t]=3,s[t];if(n!==le&&Z(n,t))return i[t]=4,n[t];bo&&(i[t]=0)}}const u=xn[t];let h,m;if(u)return t==="$attrs"&&Te(e.attrs,"get",""),u(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==le&&Z(n,t))return i[t]=4,n[t];if(m=l.config.globalProperties,Z(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return no(o,t)?(o[t]=n,!0):r!==le&&Z(r,t)?(r[t]=n,!0):Z(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let c;return!!n[i]||e!==le&&Z(e,i)||no(t,i)||(c=s[0])&&Z(c,i)||Z(r,i)||Z(xn,i)||Z(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Z(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Us(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bo=!0;function cu(e){const t=es(e),n=e.proxy,r=e.ctx;bo=!1,t.beforeCreate&&Bs(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:c,provide:l,inject:a,created:u,beforeMount:h,mounted:m,beforeUpdate:v,updated:I,activated:P,deactivated:T,beforeDestroy:y,beforeUnmount:w,destroyed:p,unmounted:A,render:C,renderTracked:_,renderTriggered:E,errorCaptured:x,serverPrefetch:Y,expose:ye,inheritAttrs:ot,components:dt,directives:$e,filters:qt}=t;if(a&&lu(a,r,null),i)for(const te in i){const k=i[te];z(k)&&(r[te]=k.bind(n))}if(o){const te=o.call(n,n);he(te)&&(e.data=Hr(te))}if(bo=!0,s)for(const te in s){const k=s[te],Ve=z(k)?k.bind(n,n):z(k.get)?k.get.bind(n,n):Ke,st=!z(k)&&z(k.set)?k.set.bind(n):Ke,We=Je({get:Ve,set:st});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>We.value,set:Pe=>We.value=Pe})}if(c)for(const te in c)_c(c[te],r,n,te);if(l){const te=z(l)?l.call(n):l;Reflect.ownKeys(te).forEach(k=>{vr(k,te[k])})}u&&Bs(u,e,"c");function de(te,k){Q(k)?k.forEach(Ve=>te(Ve.bind(n))):k&&te(k.bind(n))}if(de(Ja,h),de(Za,m),de(ka,v),de(eu,I),de(Su,P),de(Mu,T),de(su,x),de(ou,_),de(ru,E),de(tu,w),de(pc,A),de(nu,Y),Q(ye))if(ye.length){const te=e.exposed||(e.exposed={});ye.forEach(k=>{Object.defineProperty(te,k,{get:()=>n[k],set:Ve=>n[k]=Ve})})}else e.exposed||(e.exposed={});C&&e.render===Ke&&(e.render=C),ot!=null&&(e.inheritAttrs=ot),dt&&(e.components=dt),$e&&(e.directives=$e)}function lu(e,t,n=Ke){Q(e)&&(e=wo(e));for(const r in e){const o=e[r];let s;he(o)?"default"in o?s=At(o.from||r,o.default,!0):s=At(o.from||r):s=At(o),Le(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function Bs(e,t,n){nt(Q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function _c(e,t,n,r){const o=r.includes(".")?Cc(n,r):()=>n[r];if(Ae(e)){const s=t[e];z(s)&&Er(o,s)}else if(z(e))Er(o,e.bind(n));else if(he(e))if(Q(e))e.forEach(s=>_c(s,t,n,r));else{const s=z(e.handler)?e.handler.bind(n):t[e.handler];z(s)&&Er(o,s,e)}}function es(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,c=s.get(t);let l;return c?l=c:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(a=>Sr(l,a,i,!0)),Sr(l,t,i)),he(t)&&s.set(t,l),l}function Sr(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Sr(e,s,n,!0),o&&o.forEach(i=>Sr(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const c=au[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const au={data:Fs,props:Hs,emits:Hs,methods:Sn,computed:Sn,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Sn,directives:Sn,watch:fu,provide:Fs,inject:uu};function Fs(e,t){return t?e?function(){return we(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function uu(e,t){return Sn(wo(e),wo(t))}function wo(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Sn(e,t){return e?we(Object.create(null),e,t):t}function Hs(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:we(Object.create(null),Us(e),Us(t??{})):t}function fu(e,t){if(!e)return t;if(!t)return e;const n=we(Object.create(null),e);for(const r in t)n[r]=Oe(e[r],t[r]);return n}function gc(){return{app:null,config:{isNativeTag:zl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hu=0;function du(e,t){return function(r,o=null){z(r)||(r=we({},r)),o!=null&&!he(o)&&(o=null);const s=gc(),i=new WeakSet;let c=!1;const l=s.app={_uid:hu++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:Gu,get config(){return s.config},set config(a){},use(a,...u){return i.has(a)||(a&&z(a.install)?(i.add(a),a.install(l,...u)):z(a)&&(i.add(a),a(l,...u))),l},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),l},component(a,u){return u?(s.components[a]=u,l):s.components[a]},directive(a,u){return u?(s.directives[a]=u,l):s.directives[a]},mount(a,u,h){if(!c){const m=Me(r,o);return m.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(m,a):e(m,a,h),c=!0,l._container=a,a.__vue_app__=l,rs(m.component)}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(a,u){return s.provides[a]=u,l},runWithContext(a){const u=In;In=l;try{return a()}finally{In=u}}};return l}}let In=null;function vr(e,t){if(Se){let n=Se.provides;const r=Se.parent&&Se.parent.provides;r===n&&(n=Se.provides=Object.create(r)),n[e]=t}}function At(e,t,n=!1){const r=Se||ke;if(r||In){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:In._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&z(t)?t.call(r&&r.proxy):t}}const vc={},Ec=()=>Object.create(vc),bc=e=>Object.getPrototypeOf(e)===vc;function pu(e,t,n,r=!1){const o={},s=Ec();e.propsDefaults=Object.create(null),wc(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:ki(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function mu(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,c=re(o),[l]=e.propsOptions;let a=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let m=u[h];if(Wr(e.emitsOptions,m))continue;const v=t[m];if(l)if(Z(s,m))v!==s[m]&&(s[m]=v,a=!0);else{const I=ht(m);o[I]=Ao(l,c,I,v,e,!1)}else v!==s[m]&&(s[m]=v,a=!0)}}}else{wc(e,t,o,s)&&(a=!0);let u;for(const h in c)(!t||!Z(t,h)&&((u=En(h))===h||!Z(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=Ao(l,c,h,void 0,e,!0)):delete o[h]);if(s!==c)for(const h in s)(!t||!Z(t,h))&&(delete s[h],a=!0)}a&&wt(e.attrs,"set","")}function wc(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,c;if(t)for(let l in t){if(On(l))continue;const a=t[l];let u;o&&Z(o,u=ht(l))?!s||!s.includes(u)?n[u]=a:(c||(c={}))[u]=a:Wr(e.emitsOptions,l)||(!(l in r)||a!==r[l])&&(r[l]=a,i=!0)}if(s){const l=re(n),a=c||le;for(let u=0;u<s.length;u++){const h=s[u];n[h]=Ao(o,l,h,a[h],e,!Z(a,h))}}return i}function Ao(e,t,n,r,o,s){const i=e[n];if(i!=null){const c=Z(i,"default");if(c&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&z(l)){const{propsDefaults:a}=o;if(n in a)r=a[n];else{const u=nr(o);r=a[n]=l.call(null,t),u()}}else r=l}i[0]&&(s&&!c?r=!1:i[1]&&(r===""||r===En(n))&&(r=!0))}return r}function Ac(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},c=[];let l=!1;if(!z(e)){const u=h=>{l=!0;const[m,v]=Ac(h,t,!0);we(i,m),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return he(e)&&r.set(e,ln),ln;if(Q(s))for(let u=0;u<s.length;u++){const h=ht(s[u]);$s(h)&&(i[h]=le)}else if(s)for(const u in s){const h=ht(u);if($s(h)){const m=s[u],v=i[h]=Q(m)||z(m)?{type:m}:we({},m);if(v){const I=Ks(Boolean,v.type),P=Ks(String,v.type);v[0]=I>-1,v[1]=P<0||I<P,(I>-1||Z(v,"default"))&&c.push(h)}}}const a=[i,c];return he(e)&&r.set(e,a),a}function $s(e){return e[0]!=="$"&&!On(e)}function Ws(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function js(e,t){return Ws(e)===Ws(t)}function Ks(e,t){return Q(t)?t.findIndex(n=>js(n,e)):z(t)&&js(t,e)?0:-1}const yc=e=>e[0]==="_"||e==="$stable",ts=e=>Q(e)?e.map(at):[at(e)],_u=(e,t,n)=>{if(t._n)return t;const r=_r((...o)=>ts(t(...o)),n);return r._c=!1,r},Pc=(e,t,n)=>{const r=e._ctx;for(const o in e){if(yc(o))continue;const s=e[o];if(z(s))t[o]=_u(o,s,r);else if(s!=null){const i=ts(s);t[o]=()=>i}}},Rc=(e,t)=>{const n=ts(t);e.slots.default=()=>n},gu=(e,t)=>{const n=e.slots=Ec();if(e.vnode.shapeFlag&32){const r=t._;r?(we(n,t),Hi(n,"_",r,!0)):Pc(t,n)}else t&&Rc(e,t)},vu=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=le;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(we(o,t),!n&&c===1&&delete o._):(s=!t.$stable,Pc(t,o)),i=t}else t&&(Rc(e,t),i={default:1});if(s)for(const c in o)!yc(c)&&i[c]==null&&delete o[c]};function yo(e,t,n,r,o=!1){if(Q(e)){e.forEach((m,v)=>yo(m,t&&(Q(t)?t[v]:t),n,r,o));return}if(gr(r)&&!o)return;const s=r.shapeFlag&4?rs(r.component):r.el,i=o?null:s,{i:c,r:l}=e,a=t&&t.r,u=c.refs===le?c.refs={}:c.refs,h=c.setupState;if(a!=null&&a!==l&&(Ae(a)?(u[a]=null,Z(h,a)&&(h[a]=null)):Le(a)&&(a.value=null)),z(l))Ft(l,c,12,[i,u]);else{const m=Ae(l),v=Le(l);if(m||v){const I=()=>{if(e.f){const P=m?Z(h,l)?h[l]:u[l]:l.value;o?Q(P)&&Wo(P,s):Q(P)?P.includes(s)||P.push(s):m?(u[l]=[s],Z(h,l)&&(h[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else m?(u[l]=i,Z(h,l)&&(h[l]=i)):v&&(l.value=i,e.k&&(u[e.k]=i))};i?(I.id=-1,Ce(I,n)):I()}}}const Ce=Ya;function Eu(e){return bu(e)}function bu(e,t){const n=$i();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:c,createComment:l,setText:a,setElementText:u,parentNode:h,nextSibling:m,setScopeId:v=Ke,insertStaticContent:I}=e,P=(f,d,b,M=null,R=null,L=null,U=void 0,D=null,N=!!d.dynamicChildren)=>{if(f===d)return;f&&!yn(f,d)&&(M=S(f),Pe(f,R,L,!0),f=null),d.patchFlag===-2&&(N=!1,d.dynamicChildren=null);const{type:O,ref:H,shapeFlag:j}=d;switch(O){case Kr:T(f,d,b,M);break;case Kn:y(f,d,b,M);break;case oo:f==null&&w(d,b,M,U);break;case gt:dt(f,d,b,M,R,L,U,D,N);break;default:j&1?C(f,d,b,M,R,L,U,D,N):j&6?$e(f,d,b,M,R,L,U,D,N):(j&64||j&128)&&O.process(f,d,b,M,R,L,U,D,N,$)}H!=null&&R&&yo(H,f&&f.ref,L,d||f,!d)},T=(f,d,b,M)=>{if(f==null)r(d.el=c(d.children),b,M);else{const R=d.el=f.el;d.children!==f.children&&a(R,d.children)}},y=(f,d,b,M)=>{f==null?r(d.el=l(d.children||""),b,M):d.el=f.el},w=(f,d,b,M)=>{[f.el,f.anchor]=I(f.children,d,b,M,f.el,f.anchor)},p=({el:f,anchor:d},b,M)=>{let R;for(;f&&f!==d;)R=m(f),r(f,b,M),f=R;r(d,b,M)},A=({el:f,anchor:d})=>{let b;for(;f&&f!==d;)b=m(f),o(f),f=b;o(d)},C=(f,d,b,M,R,L,U,D,N)=>{d.type==="svg"?U="svg":d.type==="math"&&(U="mathml"),f==null?_(d,b,M,R,L,U,D,N):Y(f,d,R,L,U,D,N)},_=(f,d,b,M,R,L,U,D)=>{let N,O;const{props:H,shapeFlag:j,transition:W,dirs:q}=f;if(N=f.el=i(f.type,L,H&&H.is,H),j&8?u(N,f.children):j&16&&x(f.children,N,null,M,R,ro(f,L),U,D),q&&Vt(f,null,M,"created"),E(N,f,f.scopeId,U,M),H){for(const ie in H)ie!=="value"&&!On(ie)&&s(N,ie,null,H[ie],L,f.children,M,R,me);"value"in H&&s(N,"value",null,H.value,L),(O=H.onVnodeBeforeMount)&&ct(O,M,f)}q&&Vt(f,null,M,"beforeMount");const X=wu(R,W);X&&W.beforeEnter(N),r(N,d,b),((O=H&&H.onVnodeMounted)||X||q)&&Ce(()=>{O&&ct(O,M,f),X&&W.enter(N),q&&Vt(f,null,M,"mounted")},R)},E=(f,d,b,M,R)=>{if(b&&v(f,b),M)for(let L=0;L<M.length;L++)v(f,M[L]);if(R){let L=R.subTree;if(d===L){const U=R.vnode;E(f,U,U.scopeId,U.slotScopeIds,R.parent)}}},x=(f,d,b,M,R,L,U,D,N=0)=>{for(let O=N;O<f.length;O++){const H=f[O]=D?Lt(f[O]):at(f[O]);P(null,H,d,b,M,R,L,U,D)}},Y=(f,d,b,M,R,L,U)=>{const D=d.el=f.el;let{patchFlag:N,dynamicChildren:O,dirs:H}=d;N|=f.patchFlag&16;const j=f.props||le,W=d.props||le;let q;if(b&&Qt(b,!1),(q=W.onVnodeBeforeUpdate)&&ct(q,b,d,f),H&&Vt(d,f,b,"beforeUpdate"),b&&Qt(b,!0),O?ye(f.dynamicChildren,O,D,b,M,ro(d,R),L):U||k(f,d,D,null,b,M,ro(d,R),L,!1),N>0){if(N&16)ot(D,d,j,W,b,M,R);else if(N&2&&j.class!==W.class&&s(D,"class",null,W.class,R),N&4&&s(D,"style",j.style,W.style,R),N&8){const X=d.dynamicProps;for(let ie=0;ie<X.length;ie++){const ne=X[ie],ge=j[ne],Qe=W[ne];(Qe!==ge||ne==="value")&&s(D,ne,ge,Qe,R,f.children,b,M,me)}}N&1&&f.children!==d.children&&u(D,d.children)}else!U&&O==null&&ot(D,d,j,W,b,M,R);((q=W.onVnodeUpdated)||H)&&Ce(()=>{q&&ct(q,b,d,f),H&&Vt(d,f,b,"updated")},M)},ye=(f,d,b,M,R,L,U)=>{for(let D=0;D<d.length;D++){const N=f[D],O=d[D],H=N.el&&(N.type===gt||!yn(N,O)||N.shapeFlag&70)?h(N.el):b;P(N,O,H,null,M,R,L,U,!0)}},ot=(f,d,b,M,R,L,U)=>{if(b!==M){if(b!==le)for(const D in b)!On(D)&&!(D in M)&&s(f,D,b[D],null,U,d.children,R,L,me);for(const D in M){if(On(D))continue;const N=M[D],O=b[D];N!==O&&D!=="value"&&s(f,D,O,N,U,d.children,R,L,me)}"value"in M&&s(f,"value",b.value,M.value,U)}},dt=(f,d,b,M,R,L,U,D,N)=>{const O=d.el=f?f.el:c(""),H=d.anchor=f?f.anchor:c("");let{patchFlag:j,dynamicChildren:W,slotScopeIds:q}=d;q&&(D=D?D.concat(q):q),f==null?(r(O,b,M),r(H,b,M),x(d.children||[],b,H,R,L,U,D,N)):j>0&&j&64&&W&&f.dynamicChildren?(ye(f.dynamicChildren,W,b,R,L,U,D),(d.key!=null||R&&d===R.subTree)&&Sc(f,d,!0)):k(f,d,b,H,R,L,U,D,N)},$e=(f,d,b,M,R,L,U,D,N)=>{d.slotScopeIds=D,f==null?d.shapeFlag&512?R.ctx.activate(d,b,M,U,N):qt(d,b,M,R,L,U,N):Mt(f,d,N)},qt=(f,d,b,M,R,L,U)=>{const D=f.component=Bu(f,M,R);if(xc(f)&&(D.ctx.renderer=$),Fu(D),D.asyncDep){if(R&&R.registerDep(D,de,U),!f.el){const N=D.subTree=Me(Kn);y(null,N,d,b)}}else de(D,f,d,b,R,L,U)},Mt=(f,d,b)=>{const M=d.component=f.component;if(qa(f,d,b))if(M.asyncDep&&!M.asyncResolved){te(M,d,b);return}else M.next=d,Ha(M.update),M.effect.dirty=!0,M.update();else d.el=f.el,M.vnode=d},de=(f,d,b,M,R,L,U)=>{const D=()=>{if(f.isMounted){let{next:H,bu:j,u:W,parent:q,vnode:X}=f;{const rn=Mc(f);if(rn){H&&(H.el=X.el,te(f,H,U)),rn.asyncDep.then(()=>{f.isUnmounted||D()});return}}let ie=H,ne;Qt(f,!1),H?(H.el=X.el,te(f,H,U)):H=X,j&&eo(j),(ne=H.props&&H.props.onVnodeBeforeUpdate)&&ct(ne,q,H,X),Qt(f,!0);const ge=to(f),Qe=f.subTree;f.subTree=ge,P(Qe,ge,h(Qe.el),S(Qe),f,R,L),H.el=ge.el,ie===null&&Va(f,ge.el),W&&Ce(W,R),(ne=H.props&&H.props.onVnodeUpdated)&&Ce(()=>ct(ne,q,H,X),R)}else{let H;const{el:j,props:W}=d,{bm:q,m:X,parent:ie}=f,ne=gr(d);if(Qt(f,!1),q&&eo(q),!ne&&(H=W&&W.onVnodeBeforeMount)&&ct(H,ie,d),Qt(f,!0),j&&ae){const ge=()=>{f.subTree=to(f),ae(j,f.subTree,f,R,null)};ne?d.type.__asyncLoader().then(()=>!f.isUnmounted&&ge()):ge()}else{const ge=f.subTree=to(f);P(null,ge,b,M,f,R,L),d.el=ge.el}if(X&&Ce(X,R),!ne&&(H=W&&W.onVnodeMounted)){const ge=d;Ce(()=>ct(H,ie,ge),R)}(d.shapeFlag&256||ie&&gr(ie.vnode)&&ie.vnode.shapeFlag&256)&&f.a&&Ce(f.a,R),f.isMounted=!0,d=b=M=null}},N=f.effect=new qo(D,Ke,()=>ko(O),f.scope),O=f.update=()=>{N.dirty&&N.run()};O.id=f.uid,Qt(f,!0),O()},te=(f,d,b)=>{d.component=f;const M=f.vnode.props;f.vnode=d,f.next=null,mu(f,d.props,M,b),vu(f,d.children,b),Gt(),Ts(f),Pt()},k=(f,d,b,M,R,L,U,D,N=!1)=>{const O=f&&f.children,H=f?f.shapeFlag:0,j=d.children,{patchFlag:W,shapeFlag:q}=d;if(W>0){if(W&128){st(O,j,b,M,R,L,U,D,N);return}else if(W&256){Ve(O,j,b,M,R,L,U,D,N);return}}q&8?(H&16&&me(O,R,L),j!==O&&u(b,j)):H&16?q&16?st(O,j,b,M,R,L,U,D,N):me(O,R,L,!0):(H&8&&u(b,""),q&16&&x(j,b,M,R,L,U,D,N))},Ve=(f,d,b,M,R,L,U,D,N)=>{f=f||ln,d=d||ln;const O=f.length,H=d.length,j=Math.min(O,H);let W;for(W=0;W<j;W++){const q=d[W]=N?Lt(d[W]):at(d[W]);P(f[W],q,b,null,R,L,U,D,N)}O>H?me(f,R,L,!0,!1,j):x(d,b,M,R,L,U,D,N,j)},st=(f,d,b,M,R,L,U,D,N)=>{let O=0;const H=d.length;let j=f.length-1,W=H-1;for(;O<=j&&O<=W;){const q=f[O],X=d[O]=N?Lt(d[O]):at(d[O]);if(yn(q,X))P(q,X,b,null,R,L,U,D,N);else break;O++}for(;O<=j&&O<=W;){const q=f[j],X=d[W]=N?Lt(d[W]):at(d[W]);if(yn(q,X))P(q,X,b,null,R,L,U,D,N);else break;j--,W--}if(O>j){if(O<=W){const q=W+1,X=q<H?d[q].el:M;for(;O<=W;)P(null,d[O]=N?Lt(d[O]):at(d[O]),b,X,R,L,U,D,N),O++}}else if(O>W)for(;O<=j;)Pe(f[O],R,L,!0),O++;else{const q=O,X=O,ie=new Map;for(O=X;O<=W;O++){const Ne=d[O]=N?Lt(d[O]):at(d[O]);Ne.key!=null&&ie.set(Ne.key,O)}let ne,ge=0;const Qe=W-X+1;let rn=!1,As=0;const An=new Array(Qe);for(O=0;O<Qe;O++)An[O]=0;for(O=q;O<=j;O++){const Ne=f[O];if(ge>=Qe){Pe(Ne,R,L,!0);continue}let it;if(Ne.key!=null)it=ie.get(Ne.key);else for(ne=X;ne<=W;ne++)if(An[ne-X]===0&&yn(Ne,d[ne])){it=ne;break}it===void 0?Pe(Ne,R,L,!0):(An[it-X]=O+1,it>=As?As=it:rn=!0,P(Ne,d[it],b,null,R,L,U,D,N),ge++)}const ys=rn?Au(An):ln;for(ne=ys.length-1,O=Qe-1;O>=0;O--){const Ne=X+O,it=d[Ne],Ps=Ne+1<H?d[Ne+1].el:M;An[O]===0?P(null,it,b,Ps,R,L,U,D,N):rn&&(ne<0||O!==ys[ne]?We(it,b,Ps,2):ne--)}}},We=(f,d,b,M,R=null)=>{const{el:L,type:U,transition:D,children:N,shapeFlag:O}=f;if(O&6){We(f.component.subTree,d,b,M);return}if(O&128){f.suspense.move(d,b,M);return}if(O&64){U.move(f,d,b,$);return}if(U===gt){r(L,d,b);for(let j=0;j<N.length;j++)We(N[j],d,b,M);r(f.anchor,d,b);return}if(U===oo){p(f,d,b);return}if(M!==2&&O&1&&D)if(M===0)D.beforeEnter(L),r(L,d,b),Ce(()=>D.enter(L),R);else{const{leave:j,delayLeave:W,afterLeave:q}=D,X=()=>r(L,d,b),ie=()=>{j(L,()=>{X(),q&&q()})};W?W(L,X,ie):ie()}else r(L,d,b)},Pe=(f,d,b,M=!1,R=!1)=>{const{type:L,props:U,ref:D,children:N,dynamicChildren:O,shapeFlag:H,patchFlag:j,dirs:W,memoIndex:q}=f;if(j===-2&&(R=!1),D!=null&&yo(D,null,b,f,!0),q!=null&&(d.renderCache[q]=void 0),H&256){d.ctx.deactivate(f);return}const X=H&1&&W,ie=!gr(f);let ne;if(ie&&(ne=U&&U.onVnodeBeforeUnmount)&&ct(ne,d,f),H&6)nn(f.component,b,M);else{if(H&128){f.suspense.unmount(b,M);return}X&&Vt(f,null,d,"beforeUnmount"),H&64?f.type.remove(f,d,b,$,M):O&&(L!==gt||j>0&&j&64)?me(O,d,b,!1,!0):(L===gt&&j&384||!R&&H&16)&&me(N,d,b),M&&Ot(f)}(ie&&(ne=U&&U.onVnodeUnmounted)||X)&&Ce(()=>{ne&&ct(ne,d,f),X&&Vt(f,null,d,"unmounted")},b)},Ot=f=>{const{type:d,el:b,anchor:M,transition:R}=f;if(d===gt){Ct(b,M);return}if(d===oo){A(f);return}const L=()=>{o(b),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(f.shapeFlag&1&&R&&!R.persisted){const{leave:U,delayLeave:D}=R,N=()=>U(b,L);D?D(f.el,L,N):N()}else L()},Ct=(f,d)=>{let b;for(;f!==d;)b=m(f),o(f),f=b;o(d)},nn=(f,d,b)=>{const{bum:M,scope:R,update:L,subTree:U,um:D,m:N,a:O}=f;Gs(N),Gs(O),M&&eo(M),R.stop(),L&&(L.active=!1,Pe(U,f,d,b)),D&&Ce(D,d),Ce(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},me=(f,d,b,M=!1,R=!1,L=0)=>{for(let U=L;U<f.length;U++)Pe(f[U],d,b,M,R)},S=f=>f.shapeFlag&6?S(f.component.subTree):f.shapeFlag&128?f.suspense.next():m(f.anchor||f.el);let F=!1;const B=(f,d,b)=>{f==null?d._vnode&&Pe(d._vnode,null,null,!0):P(d._vnode||null,f,d,null,null,null,b),F||(F=!0,Ts(),ac(),F=!1),d._vnode=f},$={p:P,um:Pe,m:We,r:Ot,mt:qt,mc:x,pc:k,pbc:ye,n:S,o:e};let oe,ae;return{render:B,hydrate:oe,createApp:du(B,oe)}}function ro({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Qt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function wu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Sc(e,t,n=!1){const r=e.children,o=t.children;if(Q(r)&&Q(o))for(let s=0;s<r.length;s++){const i=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=Lt(o[s]),c.el=i.el),!n&&c.patchFlag!==-2&&Sc(i,c)),c.type===Kr&&(c.el=i.el)}}function Au(e){const t=e.slice(),n=[0];let r,o,s,i,c;const l=e.length;for(r=0;r<l;r++){const a=e[r];if(a!==0){if(o=n[n.length-1],e[o]<a){t[r]=o,n.push(r);continue}for(s=0,i=n.length-1;s<i;)c=s+i>>1,e[n[c]]<a?s=c+1:i=c;a<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function Mc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Mc(t)}function Gs(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const yu=Symbol.for("v-scx"),Pu=()=>At(yu),pr={};function Er(e,t,n){return Oc(e,t,n)}function Oc(e,t,{immediate:n,deep:r,flush:o,once:s,onTrack:i,onTrigger:c}=le){if(t&&s){const _=t;t=(...E)=>{_(...E),C()}}const l=Se,a=_=>r===!0?_:Xt(_,r===!1?1:void 0);let u,h=!1,m=!1;if(Le(e)?(u=()=>e.value,h=Pr(e)):Cn(e)?(u=()=>a(e),h=!0):Q(e)?(m=!0,h=e.some(_=>Cn(_)||Pr(_)),u=()=>e.map(_=>{if(Le(_))return _.value;if(Cn(_))return a(_);if(z(_))return Ft(_,l,2)})):z(e)?t?u=()=>Ft(e,l,2):u=()=>(v&&v(),nt(e,l,3,[I])):u=Ke,t&&r){const _=u;u=()=>Xt(_())}let v,I=_=>{v=p.onStop=()=>{Ft(_,l,4),v=p.onStop=void 0}},P;if(Gr)if(I=Ke,t?n&&nt(t,l,3,[u(),m?[]:void 0,I]):u(),o==="sync"){const _=Pu();P=_.__watcherHandles||(_.__watcherHandles=[])}else return Ke;let T=m?new Array(e.length).fill(pr):pr;const y=()=>{if(!(!p.active||!p.dirty))if(t){const _=p.run();(r||h||(m?_.some((E,x)=>jt(E,T[x])):jt(_,T)))&&(v&&v(),nt(t,l,3,[_,T===pr?void 0:m&&T[0]===pr?[]:T,I]),T=_)}else p.run()};y.allowRecurse=!!t;let w;o==="sync"?w=y:o==="post"?w=()=>Ce(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),w=()=>ko(y));const p=new qo(u,Ke,w),A=fa(),C=()=>{p.stop(),A&&Wo(A.effects,p)};return t?n?y():T=p.run():o==="post"?Ce(p.run.bind(p),l&&l.suspense):p.run(),P&&P.push(C),C}function Ru(e,t,n){const r=this.proxy,o=Ae(e)?e.includes(".")?Cc(r,e):()=>r[e]:e.bind(r,r);let s;z(t)?s=t:(s=t.handler,n=t);const i=nr(this),c=Oc(o,s.bind(r),n);return i(),c}function Cc(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Xt(e,t=1/0,n){if(t<=0||!he(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Le(e))Xt(e.value,t,n);else if(Q(e))for(let r=0;r<e.length;r++)Xt(e[r],t,n);else if(Yl(e)||Mn(e))e.forEach(r=>{Xt(r,t,n)});else if(kl(e)){for(const r in e)Xt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Xt(e[r],t,n)}return e}const xc=e=>e.type.__isKeepAlive;function Su(e,t){Ic(e,"a",t)}function Mu(e,t){Ic(e,"da",t)}function Ic(e,t,n=Se){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(jr(t,r,n),n){let o=n.parent;for(;o&&o.parent;)xc(o.parent.vnode)&&Ou(r,t,n,o),o=o.parent}}function Ou(e,t,n,r){const o=jr(t,e,r,!0);pc(()=>{Wo(r[t],o)},n)}function Dc(e,t){e.shapeFlag&6&&e.component?Dc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}const Cu=e=>e.__isTeleport,gt=Symbol.for("v-fgt"),Kr=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),oo=Symbol.for("v-stc"),Dn=[];let et=null;function er(e=!1){Dn.push(et=e?null:[])}function xu(){Dn.pop(),et=Dn[Dn.length-1]||null}let Gn=1;function qs(e){Gn+=e}function Iu(e){return e.dynamicChildren=Gn>0?et||ln:null,xu(),Gn>0&&et&&et.push(e),e}function tr(e,t,n,r,o,s){return Iu(Ye(e,t,n,r,o,s,!0))}function Po(e){return e?e.__v_isVNode===!0:!1}function yn(e,t){return e.type===t.type&&e.key===t.key}const Tc=({key:e})=>e??null,br=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||Le(e)||z(e)?{i:ke,r:e,k:t,f:!!n}:e:null);function Ye(e,t=null,n=null,r=0,o=null,s=e===gt?0:1,i=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tc(t),ref:t&&br(t),scopeId:hc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ke};return c?(ns(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ae(n)?8:16),Gn>0&&!i&&et&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&et.push(l),l}const Me=Du;function Du(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===Qa)&&(e=Kn),Po(e)){const c=pn(e,t,!0);return n&&ns(c,n),Gn>0&&!s&&et&&(c.shapeFlag&6?et[et.indexOf(e)]=c:et.push(c)),c.patchFlag=-2,c}if(Ku(e)&&(e=e.__vccOpts),t){t=Tu(t);let{class:c,style:l}=t;c&&!Ae(c)&&(t.class=Go(c)),he(l)&&(tc(l)&&!Q(l)&&(l=we({},l)),t.style=Ko(l))}const i=Ae(e)?1:Xa(e)?128:Cu(e)?64:he(e)?4:z(e)?2:0;return Ye(e,t,n,r,o,i,s,!0)}function Tu(e){return e?tc(e)||bc(e)?we({},e):e:null}function pn(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:i,children:c,transition:l}=e,a=t?Lu(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Tc(a),ref:t&&t.ref?n&&s?Q(s)?s.concat(br(t)):[s,br(t)]:br(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pn(e.ssContent),ssFallback:e.ssFallback&&pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Dc(u,l.clone(u)),u}function wr(e=" ",t=0){return Me(Kr,null,e,t)}function at(e){return e==null||typeof e=="boolean"?Me(Kn):Q(e)?Me(gt,null,e.slice()):typeof e=="object"?Lt(e):Me(Kr,null,String(e))}function Lt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pn(e)}function ns(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),ns(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!bc(t)?t._ctx=ke:o===3&&ke&&(ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:ke},n=32):(t=String(t),r&64?(n=16,t=[wr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lu(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Go([t.class,r.class]));else if(o==="style")t.style=Ko([t.style,r.style]);else if(Lr(o)){const s=t[o],i=r[o];i&&s!==i&&!(Q(s)&&s.includes(i))&&(t[o]=s?[].concat(s,i):i)}else o!==""&&(t[o]=r[o])}return t}function ct(e,t,n,r=null){nt(e,t,7,[n,r])}const Nu=gc();let Uu=0;function Bu(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Nu,s={uid:Uu++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new aa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ac(r,o),emitsOptions:fc(r,o),emit:null,emitted:null,propsDefaults:le,inheritAttrs:r.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=ja.bind(null,s),e.ce&&e.ce(s),s}let Se=null,Mr,Ro;{const e=$i(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};Mr=t("__VUE_INSTANCE_SETTERS__",n=>Se=n),Ro=t("__VUE_SSR_SETTERS__",n=>Gr=n)}const nr=e=>{const t=Se;return Mr(e),e.scope.on(),()=>{e.scope.off(),Mr(t)}},Vs=()=>{Se&&Se.scope.off(),Mr(null)};function Lc(e){return e.vnode.shapeFlag&4}let Gr=!1;function Fu(e,t=!1){t&&Ro(t);const{props:n,children:r}=e.vnode,o=Lc(e);pu(e,n,o,t),gu(e,r);const s=o?Hu(e,t):void 0;return t&&Ro(!1),s}function Hu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,iu);const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?Wu(e):null,s=nr(e);Gt();const i=Ft(r,e,0,[e.props,o]);if(Pt(),s(),Fi(i)){if(i.then(Vs,Vs),t)return i.then(c=>{Qs(e,c,t)}).catch(c=>{$r(c,e,0)});e.asyncDep=i}else Qs(e,i,t)}else Nc(e,t)}function Qs(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:he(t)&&(e.setupState=sc(t)),Nc(e,n)}let zs;function Nc(e,t,n){const r=e.type;if(!e.render){if(!t&&zs&&!r.render){const o=r.template||es(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,a=we(we({isCustomElement:s,delimiters:c},i),l);r.render=zs(o,a)}}e.render=r.render||Ke}{const o=nr(e);Gt();try{cu(e)}finally{Pt(),o()}}}const $u={get(e,t){return Te(e,"get",""),e[t]}};function Wu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,$u),slots:e.slots,emit:e.emit,expose:t}}function rs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sc(Ia(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in xn)return xn[n](e)},has(t,n){return n in t||n in xn}})):e.proxy}function ju(e,t=!0){return z(e)?e.displayName||e.name:e.name||t&&e.__name}function Ku(e){return z(e)&&"__vccOpts"in e}const Je=(e,t)=>Da(e,t,Gr);function Uc(e,t,n){const r=arguments.length;return r===2?he(t)&&!Q(t)?Po(t)?Me(e,null,[t]):Me(e,t):Me(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Po(n)&&(n=[n]),Me(e,t,n))}const Gu="3.4.30";/**
* @vue/runtime-dom v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qu="http://www.w3.org/2000/svg",Vu="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Xs=_t&&_t.createElement("template"),Qu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?_t.createElementNS(qu,e):t==="mathml"?_t.createElementNS(Vu,e):n?_t.createElement(e,{is:n}):_t.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const i=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{Xs.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const c=Xs.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},zu=Symbol("_vtc");function Xu(e,t,n){const r=e[zu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ys=Symbol("_vod"),Yu=Symbol("_vsh"),Ju=Symbol(""),Zu=/(^|;)\s*display\s*:/;function ku(e,t,n){const r=e.style,o=Ae(n);let s=!1;if(n&&!o){if(t)if(Ae(t))for(const i of t.split(";")){const c=i.slice(0,i.indexOf(":")).trim();n[c]==null&&Ar(r,c,"")}else for(const i in t)n[i]==null&&Ar(r,i,"");for(const i in n)i==="display"&&(s=!0),Ar(r,i,n[i])}else if(o){if(t!==n){const i=r[Ju];i&&(n+=";"+i),r.cssText=n,s=Zu.test(n)}}else t&&e.removeAttribute("style");Ys in e&&(e[Ys]=s?r.display:"",e[Yu]&&(r.display="none"))}const Js=/\s*!important$/;function Ar(e,t,n){if(Q(n))n.forEach(r=>Ar(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ef(e,t);Js.test(n)?e.setProperty(En(r),n.replace(Js,""),"important"):e[r]=n}}const Zs=["Webkit","Moz","ms"],so={};function ef(e,t){const n=so[t];if(n)return n;let r=ht(t);if(r!=="filter"&&r in e)return so[t]=r;r=Br(r);for(let o=0;o<Zs.length;o++){const s=Zs[o]+r;if(s in e)return so[t]=s}return t}const ks="http://www.w3.org/1999/xlink";function ei(e,t,n,r,o,s=la(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ks,t.slice(6,t.length)):e.setAttributeNS(ks,t,n):n==null||s&&!Wi(n)?e.removeAttribute(t):e.setAttribute(t,s?"":vn(n)?String(n):n)}function tf(e,t,n,r,o,s,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,o,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const a=c==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Wi(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function nf(e,t,n,r){e.addEventListener(t,n,r)}function rf(e,t,n,r){e.removeEventListener(t,n,r)}const ti=Symbol("_vei");function of(e,t,n,r,o=null){const s=e[ti]||(e[ti]={}),i=s[t];if(r&&i)i.value=r;else{const[c,l]=sf(t);if(r){const a=s[t]=af(r,o);nf(e,c,a,l)}else i&&(rf(e,c,i,l),s[t]=void 0)}}const ni=/(?:Once|Passive|Capture)$/;function sf(e){let t;if(ni.test(e)){t={};let r;for(;r=e.match(ni);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):En(e.slice(2)),t]}let io=0;const cf=Promise.resolve(),lf=()=>io||(cf.then(()=>io=0),io=Date.now());function af(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nt(uf(r,n.value),t,5,[r])};return n.value=e,n.attached=lf(),n}function uf(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ff=(e,t,n,r,o,s,i,c,l)=>{const a=o==="svg";t==="class"?Xu(e,r,a):t==="style"?ku(e,n,r):Lr(t)?$o(t)||of(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hf(e,t,r,a))?(tf(e,t,r,s,i,c,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ei(e,t,r,a,i,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ei(e,t,r,a))};function hf(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ri(t)&&z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ri(t)&&Ae(n)?!1:t in e}const df=we({patchProp:ff},Qu);let oi;function pf(){return oi||(oi=Eu(df))}const mf=(...e)=>{const t=pf().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=gf(r);if(!o)return;const s=t._component;!z(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,_f(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function _f(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gf(e){return Ae(e)?document.querySelector(e):e}const rr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},vf={name:"Header"};function Ef(e,t,n,r,o,s){const i=vo("router-link");return er(),tr("header",null,[Ye("nav",null,[Ye("ul",null,[Ye("li",null,[Me(i,{to:"/"},{default:_r(()=>[wr("Home")]),_:1})]),Ye("li",null,[Me(i,{to:"/app1"},{default:_r(()=>[wr("App 1")]),_:1})]),Ye("li",null,[Me(i,{to:"/app2"},{default:_r(()=>[wr("App 2")]),_:1})])])])])}const bf=rr(vf,[["render",Ef],["__scopeId","data-v-59183830"]]),wf={name:"App",components:{Header:bf}},Af={id:"app"};function yf(e,t,n,r,o,s){const i=vo("Header"),c=vo("router-view");return er(),tr("div",Af,[Me(i),Me(c)])}const Pf=rr(wf,[["render",yf]]);/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const on=typeof document<"u";function Rf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const se=Object.assign;function co(e,t){const n={};for(const r in t){const o=t[r];n[r]=rt(o)?o.map(e):e(o)}return n}const Tn=()=>{},rt=Array.isArray,Bc=/#/g,Sf=/&/g,Mf=/\//g,Of=/=/g,Cf=/\?/g,Fc=/\+/g,xf=/%5B/g,If=/%5D/g,Hc=/%5E/g,Df=/%60/g,$c=/%7B/g,Tf=/%7C/g,Wc=/%7D/g,Lf=/%20/g;function os(e){return encodeURI(""+e).replace(Tf,"|").replace(xf,"[").replace(If,"]")}function Nf(e){return os(e).replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function So(e){return os(e).replace(Fc,"%2B").replace(Lf,"+").replace(Bc,"%23").replace(Sf,"%26").replace(Df,"`").replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function Uf(e){return So(e).replace(Of,"%3D")}function Bf(e){return os(e).replace(Bc,"%23").replace(Cf,"%3F")}function Ff(e){return e==null?"":Bf(e).replace(Mf,"%2F")}function qn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Hf=/\/$/,$f=e=>e.replace(Hf,"");function lo(e,t,n="/"){let r,o={},s="",i="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),i=t.slice(c,t.length)),r=Gf(r??t,n),{fullPath:r+(s&&"?")+s+i,path:r,query:o,hash:qn(i)}}function Wf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function si(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jf(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&mn(t.matched[r],n.matched[o])&&jc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function mn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Kf(e[n],t[n]))return!1;return!0}function Kf(e,t){return rt(e)?ii(e,t):rt(t)?ii(t,e):e===t}function ii(e,t){return rt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Gf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,i,c;for(i=0;i<r.length;i++)if(c=r[i],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i).join("/")}const It={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vn;(function(e){e.pop="pop",e.push="push"})(Vn||(Vn={}));var Ln;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ln||(Ln={}));function qf(e){if(!e)if(on){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),$f(e)}const Vf=/^[^#]+#/;function Qf(e,t){return e.replace(Vf,"#")+t}function zf(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const qr=()=>({left:window.scrollX,top:window.scrollY});function Xf(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=zf(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ci(e,t){return(history.state?history.state.position-t:-1)+e}const Mo=new Map;function Yf(e,t){Mo.set(e,t)}function Jf(e){const t=Mo.get(e);return Mo.delete(e),t}let Zf=()=>location.protocol+"//"+location.host;function Kc(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,l=o.slice(c);return l[0]!=="/"&&(l="/"+l),si(l,"")}return si(n,e)+r+o}function kf(e,t,n,r){let o=[],s=[],i=null;const c=({state:m})=>{const v=Kc(e,location),I=n.value,P=t.value;let T=0;if(m){if(n.value=v,t.value=m,i&&i===I){i=null;return}T=P?m.position-P.position:0}else r(v);o.forEach(y=>{y(n.value,I,{delta:T,type:Vn.pop,direction:T?T>0?Ln.forward:Ln.back:Ln.unknown})})};function l(){i=n.value}function a(m){o.push(m);const v=()=>{const I=o.indexOf(m);I>-1&&o.splice(I,1)};return s.push(v),v}function u(){const{history:m}=window;m.state&&m.replaceState(se({},m.state,{scroll:qr()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:a,destroy:h}}function li(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?qr():null}}function eh(e){const{history:t,location:n}=window,r={value:Kc(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,a,u){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Zf()+e+l;try{t[u?"replaceState":"pushState"](a,"",m),o.value=a}catch(v){console.error(v),n[u?"replace":"assign"](m)}}function i(l,a){const u=se({},t.state,li(o.value.back,l,o.value.forward,!0),a,{position:o.value.position});s(l,u,!0),r.value=l}function c(l,a){const u=se({},o.value,t.state,{forward:l,scroll:qr()});s(u.current,u,!0);const h=se({},li(r.value,l,null),{position:u.position+1},a);s(l,h,!1),r.value=l}return{location:r,state:o,push:c,replace:i}}function th(e){e=qf(e);const t=eh(e),n=kf(e,t.state,t.location,t.replace);function r(s,i=!0){i||n.pauseListeners(),history.go(s)}const o=se({location:"",base:e,go:r,createHref:Qf.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function nh(e){return typeof e=="string"||e&&typeof e=="object"}function Gc(e){return typeof e=="string"||typeof e=="symbol"}const qc=Symbol("");var ai;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ai||(ai={}));function _n(e,t){return se(new Error,{type:e,[qc]:!0},t)}function pt(e,t){return e instanceof Error&&qc in e&&(t==null||!!(e.type&t))}const ui="[^/]+?",rh={sensitive:!1,strict:!1,start:!0,end:!0},oh=/[.+*?^${}()[\]/\\]/g;function sh(e,t){const n=se({},rh,t),r=[];let o=n.start?"^":"";const s=[];for(const a of e){const u=a.length?[]:[90];n.strict&&!a.length&&(o+="/");for(let h=0;h<a.length;h++){const m=a[h];let v=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(oh,"\\$&"),v+=40;else if(m.type===1){const{value:I,repeatable:P,optional:T,regexp:y}=m;s.push({name:I,repeatable:P,optional:T});const w=y||ui;if(w!==ui){v+=10;try{new RegExp(`(${w})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${I}" (${w}): `+A.message)}}let p=P?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(p=T&&a.length<2?`(?:/${p})`:"/"+p),T&&(p+="?"),o+=p,v+=20,T&&(v+=-8),P&&(v+=-20),w===".*"&&(v+=-50)}u.push(v)}r.push(u)}if(n.strict&&n.end){const a=r.length-1;r[a][r[a].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function c(a){const u=a.match(i),h={};if(!u)return null;for(let m=1;m<u.length;m++){const v=u[m]||"",I=s[m-1];h[I.name]=v&&I.repeatable?v.split("/"):v}return h}function l(a){let u="",h=!1;for(const m of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const v of m)if(v.type===0)u+=v.value;else if(v.type===1){const{value:I,repeatable:P,optional:T}=v,y=I in a?a[I]:"";if(rt(y)&&!P)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const w=rt(y)?y.join("/"):y;if(!w)if(T)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${I}"`);u+=w}}return u||"/"}return{re:i,score:r,keys:s,parse:c,stringify:l}}function ih(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Vc(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=ih(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(fi(r))return 1;if(fi(o))return-1}return o.length-r.length}function fi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ch={type:0,value:""},lh=/[a-zA-Z0-9_]/;function ah(e){if(!e)return[[]];if(e==="/")return[[ch]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${a}": ${v}`)}let n=0,r=n;const o=[];let s;function i(){s&&o.push(s),s=[]}let c=0,l,a="",u="";function h(){a&&(n===0?s.push({type:0,value:a}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:a,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),a="")}function m(){a+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(a&&h(),i()):l===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:lh.test(l)?m():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${a}"`),h(),i(),o}function uh(e,t,n){const r=sh(ah(e.path),n),o=se(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function fh(e,t){const n=[],r=new Map;t=pi({strict:!1,end:!0,sensitive:!1},t);function o(h){return r.get(h)}function s(h,m,v){const I=!v,P=hh(h);P.aliasOf=v&&v.record;const T=pi(t,h),y=[P];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of A)y.push(se({},P,{components:v?v.record.components:P.components,path:C,aliasOf:v?v.record:P}))}let w,p;for(const A of y){const{path:C}=A;if(m&&C[0]!=="/"){const _=m.record.path,E=_[_.length-1]==="/"?"":"/";A.path=m.record.path+(C&&E+C)}if(w=uh(A,m,T),v?v.alias.push(w):(p=p||w,p!==w&&p.alias.push(w),I&&h.name&&!di(w)&&i(h.name)),Qc(w)&&l(w),P.children){const _=P.children;for(let E=0;E<_.length;E++)s(_[E],w,v&&v.children[E])}v=v||w}return p?()=>{i(p)}:Tn}function i(h){if(Gc(h)){const m=r.get(h);m&&(r.delete(h),n.splice(n.indexOf(m),1),m.children.forEach(i),m.alias.forEach(i))}else{const m=n.indexOf(h);m>-1&&(n.splice(m,1),h.record.name&&r.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function c(){return n}function l(h){const m=mh(h,n);n.splice(m,0,h),h.record.name&&!di(h)&&r.set(h.record.name,h)}function a(h,m){let v,I={},P,T;if("name"in h&&h.name){if(v=r.get(h.name),!v)throw _n(1,{location:h});T=v.record.name,I=se(hi(m.params,v.keys.filter(p=>!p.optional).concat(v.parent?v.parent.keys.filter(p=>p.optional):[]).map(p=>p.name)),h.params&&hi(h.params,v.keys.map(p=>p.name))),P=v.stringify(I)}else if(h.path!=null)P=h.path,v=n.find(p=>p.re.test(P)),v&&(I=v.parse(P),T=v.record.name);else{if(v=m.name?r.get(m.name):n.find(p=>p.re.test(m.path)),!v)throw _n(1,{location:h,currentLocation:m});T=v.record.name,I=se({},m.params,h.params),P=v.stringify(I)}const y=[];let w=v;for(;w;)y.unshift(w.record),w=w.parent;return{name:T,path:P,params:I,matched:y,meta:ph(y)}}e.forEach(h=>s(h));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:a,removeRoute:i,clearRoutes:u,getRoutes:c,getRecordMatcher:o}}function hi(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function hh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:dh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function dh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function di(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ph(e){return e.reduce((t,n)=>se(t,n.meta),{})}function pi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function mh(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;Vc(e,t[s])<0?r=s:n=s+1}const o=_h(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function _h(e){let t=e;for(;t=t.parent;)if(Qc(t)&&Vc(e,t)===0)return t}function Qc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function gh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(Fc," "),i=s.indexOf("="),c=qn(i<0?s:s.slice(0,i)),l=i<0?null:qn(s.slice(i+1));if(c in t){let a=t[c];rt(a)||(a=t[c]=[a]),a.push(l)}else t[c]=l}return t}function mi(e){let t="";for(let n in e){const r=e[n];if(n=Uf(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(rt(r)?r.map(s=>s&&So(s)):[r&&So(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function vh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=rt(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Eh=Symbol(""),_i=Symbol(""),ss=Symbol(""),zc=Symbol(""),Oo=Symbol("");function Pn(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Nt(e,t,n,r,o,s=i=>i()){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((c,l)=>{const a=m=>{m===!1?l(_n(4,{from:n,to:t})):m instanceof Error?l(m):nh(m)?l(_n(2,{from:t,to:m})):(i&&r.enterCallbacks[o]===i&&typeof m=="function"&&i.push(m),c())},u=s(()=>e.call(r&&r.instances[o],t,n,a));let h=Promise.resolve(u);e.length<3&&(h=h.then(a)),h.catch(m=>l(m))})}function ao(e,t,n,r,o=s=>s()){const s=[];for(const i of e)for(const c in i.components){let l=i.components[c];if(!(t!=="beforeRouteEnter"&&!i.instances[c]))if(bh(l)){const u=(l.__vccOpts||l)[t];u&&s.push(Nt(u,n,r,i,c,o))}else{let a=l();s.push(()=>a.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${i.path}"`));const h=Rf(u)?u.default:u;i.components[c]=h;const v=(h.__vccOpts||h)[t];return v&&Nt(v,n,r,i,c,o)()}))}}return s}function bh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function gi(e){const t=At(ss),n=At(zc),r=Je(()=>{const l=an(e.to);return t.resolve(l)}),o=Je(()=>{const{matched:l}=r.value,{length:a}=l,u=l[a-1],h=n.matched;if(!u||!h.length)return-1;const m=h.findIndex(mn.bind(null,u));if(m>-1)return m;const v=vi(l[a-2]);return a>1&&vi(u)===v&&h[h.length-1].path!==v?h.findIndex(mn.bind(null,l[a-2])):m}),s=Je(()=>o.value>-1&&Ph(n.params,r.value.params)),i=Je(()=>o.value>-1&&o.value===n.matched.length-1&&jc(n.params,r.value.params));function c(l={}){return yh(l)?t[an(e.replace)?"replace":"push"](an(e.to)).catch(Tn):Promise.resolve()}return{route:r,href:Je(()=>r.value.href),isActive:s,isExactActive:i,navigate:c}}const wh=mc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gi,setup(e,{slots:t}){const n=Hr(gi(e)),{options:r}=At(ss),o=Je(()=>({[Ei(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ei(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Uc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),Ah=wh;function yh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ph(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!rt(o)||o.length!==r.length||r.some((s,i)=>s!==o[i]))return!1}return!0}function vi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ei=(e,t,n)=>e??t??n,Rh=mc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=At(Oo),o=Je(()=>e.route||r.value),s=At(_i,0),i=Je(()=>{let a=an(s);const{matched:u}=o.value;let h;for(;(h=u[a])&&!h.components;)a++;return a}),c=Je(()=>o.value.matched[i.value]);vr(_i,Je(()=>i.value+1)),vr(Eh,c),vr(Oo,o);const l=Ta();return Er(()=>[l.value,c.value,e.name],([a,u,h],[m,v,I])=>{u&&(u.instances[h]=a,v&&v!==u&&a&&a===m&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),a&&u&&(!v||!mn(u,v)||!m)&&(u.enterCallbacks[h]||[]).forEach(P=>P(a))},{flush:"post"}),()=>{const a=o.value,u=e.name,h=c.value,m=h&&h.components[u];if(!m)return bi(n.default,{Component:m,route:a});const v=h.props[u],I=v?v===!0?a.params:typeof v=="function"?v(a):v:null,T=Uc(m,se({},I,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return bi(n.default,{Component:T,route:a})||T}}});function bi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Sh=Rh;function Mh(e){const t=fh(e.routes,e),n=e.parseQuery||gh,r=e.stringifyQuery||mi,o=e.history,s=Pn(),i=Pn(),c=Pn(),l=La(It);let a=It;on&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=co.bind(null,S=>""+S),h=co.bind(null,Ff),m=co.bind(null,qn);function v(S,F){let B,$;return Gc(S)?(B=t.getRecordMatcher(S),$=F):$=S,t.addRoute($,B)}function I(S){const F=t.getRecordMatcher(S);F&&t.removeRoute(F)}function P(){return t.getRoutes().map(S=>S.record)}function T(S){return!!t.getRecordMatcher(S)}function y(S,F){if(F=se({},F||l.value),typeof S=="string"){const d=lo(n,S,F.path),b=t.resolve({path:d.path},F),M=o.createHref(d.fullPath);return se(d,b,{params:m(b.params),hash:qn(d.hash),redirectedFrom:void 0,href:M})}let B;if(S.path!=null)B=se({},S,{path:lo(n,S.path,F.path).path});else{const d=se({},S.params);for(const b in d)d[b]==null&&delete d[b];B=se({},S,{params:h(d)}),F.params=h(F.params)}const $=t.resolve(B,F),oe=S.hash||"";$.params=u(m($.params));const ae=Wf(r,se({},S,{hash:Nf(oe),path:$.path})),f=o.createHref(ae);return se({fullPath:ae,hash:oe,query:r===mi?vh(S.query):S.query||{}},$,{redirectedFrom:void 0,href:f})}function w(S){return typeof S=="string"?lo(n,S,l.value.path):se({},S)}function p(S,F){if(a!==S)return _n(8,{from:F,to:S})}function A(S){return E(S)}function C(S){return A(se(w(S),{replace:!0}))}function _(S){const F=S.matched[S.matched.length-1];if(F&&F.redirect){const{redirect:B}=F;let $=typeof B=="function"?B(S):B;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=w($):{path:$},$.params={}),se({query:S.query,hash:S.hash,params:$.path!=null?{}:S.params},$)}}function E(S,F){const B=a=y(S),$=l.value,oe=S.state,ae=S.force,f=S.replace===!0,d=_(B);if(d)return E(se(w(d),{state:typeof d=="object"?se({},oe,d.state):oe,force:ae,replace:f}),F||B);const b=B;b.redirectedFrom=F;let M;return!ae&&jf(r,$,B)&&(M=_n(16,{to:b,from:$}),We($,$,!0,!1)),(M?Promise.resolve(M):ye(b,$)).catch(R=>pt(R)?pt(R,2)?R:st(R):k(R,b,$)).then(R=>{if(R){if(pt(R,2))return E(se({replace:f},w(R.to),{state:typeof R.to=="object"?se({},oe,R.to.state):oe,force:ae}),F||b)}else R=dt(b,$,!0,f,oe);return ot(b,$,R),R})}function x(S,F){const B=p(S,F);return B?Promise.reject(B):Promise.resolve()}function Y(S){const F=Ct.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(S):S()}function ye(S,F){let B;const[$,oe,ae]=Oh(S,F);B=ao($.reverse(),"beforeRouteLeave",S,F);for(const d of $)d.leaveGuards.forEach(b=>{B.push(Nt(b,S,F))});const f=x.bind(null,S,F);return B.push(f),me(B).then(()=>{B=[];for(const d of s.list())B.push(Nt(d,S,F));return B.push(f),me(B)}).then(()=>{B=ao(oe,"beforeRouteUpdate",S,F);for(const d of oe)d.updateGuards.forEach(b=>{B.push(Nt(b,S,F))});return B.push(f),me(B)}).then(()=>{B=[];for(const d of ae)if(d.beforeEnter)if(rt(d.beforeEnter))for(const b of d.beforeEnter)B.push(Nt(b,S,F));else B.push(Nt(d.beforeEnter,S,F));return B.push(f),me(B)}).then(()=>(S.matched.forEach(d=>d.enterCallbacks={}),B=ao(ae,"beforeRouteEnter",S,F,Y),B.push(f),me(B))).then(()=>{B=[];for(const d of i.list())B.push(Nt(d,S,F));return B.push(f),me(B)}).catch(d=>pt(d,8)?d:Promise.reject(d))}function ot(S,F,B){c.list().forEach($=>Y(()=>$(S,F,B)))}function dt(S,F,B,$,oe){const ae=p(S,F);if(ae)return ae;const f=F===It,d=on?history.state:{};B&&($||f?o.replace(S.fullPath,se({scroll:f&&d&&d.scroll},oe)):o.push(S.fullPath,oe)),l.value=S,We(S,F,B,f),st()}let $e;function qt(){$e||($e=o.listen((S,F,B)=>{if(!nn.listening)return;const $=y(S),oe=_($);if(oe){E(se(oe,{replace:!0}),$).catch(Tn);return}a=$;const ae=l.value;on&&Yf(ci(ae.fullPath,B.delta),qr()),ye($,ae).catch(f=>pt(f,12)?f:pt(f,2)?(E(f.to,$).then(d=>{pt(d,20)&&!B.delta&&B.type===Vn.pop&&o.go(-1,!1)}).catch(Tn),Promise.reject()):(B.delta&&o.go(-B.delta,!1),k(f,$,ae))).then(f=>{f=f||dt($,ae,!1),f&&(B.delta&&!pt(f,8)?o.go(-B.delta,!1):B.type===Vn.pop&&pt(f,20)&&o.go(-1,!1)),ot($,ae,f)}).catch(Tn)}))}let Mt=Pn(),de=Pn(),te;function k(S,F,B){st(S);const $=de.list();return $.length?$.forEach(oe=>oe(S,F,B)):console.error(S),Promise.reject(S)}function Ve(){return te&&l.value!==It?Promise.resolve():new Promise((S,F)=>{Mt.add([S,F])})}function st(S){return te||(te=!S,qt(),Mt.list().forEach(([F,B])=>S?B(S):F()),Mt.reset()),S}function We(S,F,B,$){const{scrollBehavior:oe}=e;if(!on||!oe)return Promise.resolve();const ae=!B&&Jf(ci(S.fullPath,0))||($||!B)&&history.state&&history.state.scroll||null;return cc().then(()=>oe(S,F,ae)).then(f=>f&&Xf(f)).catch(f=>k(f,S,F))}const Pe=S=>o.go(S);let Ot;const Ct=new Set,nn={currentRoute:l,listening:!0,addRoute:v,removeRoute:I,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:P,resolve:y,options:e,push:A,replace:C,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:s.add,beforeResolve:i.add,afterEach:c.add,onError:de.add,isReady:Ve,install(S){const F=this;S.component("RouterLink",Ah),S.component("RouterView",Sh),S.config.globalProperties.$router=F,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>an(l)}),on&&!Ot&&l.value===It&&(Ot=!0,A(o.location).catch(oe=>{}));const B={};for(const oe in It)Object.defineProperty(B,oe,{get:()=>l.value[oe],enumerable:!0});S.provide(ss,F),S.provide(zc,ki(B)),S.provide(Oo,l);const $=S.unmount;Ct.add(S),S.unmount=function(){Ct.delete(S),Ct.size<1&&(a=It,$e&&$e(),$e=null,l.value=It,Ot=!1,te=!1),$()}}};function me(S){return S.reduce((F,B)=>F.then(()=>Y(B)),Promise.resolve())}return nn}function Oh(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const c=t.matched[i];c&&(e.matched.find(a=>mn(a,c))?r.push(c):n.push(c));const l=e.matched[i];l&&(t.matched.find(a=>mn(a,l))||o.push(l))}return[n,r,o]}const Ch={name:"Home"},xh=Ye("h1",null,"Home Page",-1),Ih=[xh];function Dh(e,t,n,r,o,s){return er(),tr("div",null,Ih)}const Th=rr(Ch,[["render",Dh]]),Lh={name:"App1"},Nh=Ye("h1",null,"Sub App",-1),Uh=Ye("micro-app",{name:"my-app",url:"https://alexgofreight.github.io/website-mf-testing/"},null,-1),Bh=[Nh,Uh];function Fh(e,t,n,r,o,s){return er(),tr("div",null,Bh)}const Hh=rr(Lh,[["render",Fh]]),$h={name:"App2"},Wh=Ye("h1",null,"App 2",-1),jh=[Wh];function Kh(e,t,n,r,o,s){return er(),tr("div",null,jh)}const Gh=rr($h,[["render",Kh]]),qh=[{path:"/",name:"Home",component:Th},{path:"/app1",name:"App1",component:Hh},{path:"/app2",name:"App2",component:Gh}],Vh=Mh({history:th(),routes:qh}),Qh="1.0.0-rc.5",is=typeof window<"u",Xc=typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:Function("return this")(),zh=()=>!1,ft=Array.isArray,Ge=Object.assign,be=Object.defineProperty,vt=Object.defineProperties,Xh=Object.prototype.toString,Yt=Object.prototype.hasOwnProperty,St=e=>Xh.call(e);function kt(e){return e===void 0}function Co(e){return e===null}function ce(e){return typeof e=="string"}function Yc(e){return typeof e=="boolean"}function xo(e){return typeof e=="number"}function V(e){return typeof e=="function"}function pe(e){return St(e)==="[object Object]"}function Jc(e){return!Co(e)&&typeof e=="object"}function Io(e){return St(e)==="[object Promise]"}function Yh(e){return V(e)&&e.name.indexOf("bound ")===0&&!e.hasOwnProperty("prototype")}function cs(e){var t;if(V(e)){const n=e.toString();return((t=e.prototype)===null||t===void 0?void 0:t.constructor)===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\s+[A-Z]/.test(n)||/^class\s+/.test(n)}return!1}function Jh(e){return typeof ShadowRoot<"u"&&e instanceof ShadowRoot}function or(e){var t;return e instanceof URL||!!(!((t=e)===null||t===void 0)&&t.href)}function Ht(e){var t;return e instanceof Element||ce((t=e)===null||t===void 0?void 0:t.tagName)}function gn(e){var t;return e instanceof Node||xo((t=e)===null||t===void 0?void 0:t.nodeType)}function Zc(e){return St(e)==="[object HTMLLinkElement]"}function ls(e){return St(e)==="[object HTMLStyleElement]"}function fn(e){return St(e)==="[object HTMLScriptElement]"}function Zh(e){return St(e)==="[object HTMLDivElement]"}function kh(e){return St(e)==="[object HTMLImageElement]"}function ed(e){return St(e)==="[object HTMLBaseElement]"}function Do(e){return Ht(e)&&e.tagName.toUpperCase()==="MICRO-APP-BODY"}function td(e){return St(e)==="[object ProxyDocument]"}function kc(e,t){try{return ue(e).pathname.split(".").pop()===t}catch{return!1}}function je(e,t,n){if(e==null)throw new TypeError("includes target is null or undefined");const r=Object(e),o=parseInt(r.length,10)||0;if(o===0)return!1;n=parseInt(n,10)||0;let s=Math.max(n>=0?n:o+n,0);for(;s<o;){if(t===r[s]||t!==t&&r[s]!==r[s])return!0;s++}return!1}function J(e,t=null,...n){const r=t&&ce(t)?` app ${t}:`:"";ce(e)?console.error(`[micro-app]${r} ${e}`,...n):console.error(`[micro-app]${r}`,e,...n)}function Kt(e,t=null,...n){const r=t&&ce(t)?` app ${t}:`:"";ce(e)?console.warn(`[micro-app]${r} ${e}`,...n):console.warn(`[micro-app]${r}`,e,...n)}function tt(e,...t){Promise.resolve().then(e.bind(null,...t))}const ue=function(){class e extends URL{}return(t,n)=>n?new e(""+t,n):new e(""+t)}();function as(e){return e.startsWith("//")?`${Xc.location.protocol}${e}`:e}function To(e,t=null){if(!ce(e)||!e)return"";try{const{origin:n,pathname:r,search:o}=ue(as(e),(window.rawWindow||window).location.href),s=`${n}${r}${o}`;return/^https?:\/\//.test(s)?s:""}catch(n){return J(n,t),""}}function Ee(e){return!ce(e)||!e?"":e.replace(/(^\d+)|([^\w\d-_])/gi,"")}function Vr(e){const{origin:t,pathname:n}=ue(e);if(/\.(\w+)$/.test(n)){const o=`${t}${n}`.split("/");return o.pop(),o.join("/")+"/"}return`${t}${n}/`.replace(/\/\/$/,"/")}function Be(e,t){return!e||/^((((ht|f)tps?)|file):)?\/\//.test(e)||/^(data|blob):/.test(e)?e:ue(e,Vr(as(t))).toString()}function nd(e){const t=e.split("/");return t.pop(),as(t.join("/")+"/")}function Qr(e,t,n,r){let o=0;function s(){++o===e.length&&r&&r()}e.forEach((i,c)=>{Io(i)?i.then(l=>{t({data:l,index:c}),s()}).catch(l=>{n({error:l,index:c}),s()}):(t({data:i,index:c}),s())})}function rd(){return"noModule"in document.createElement("script")}function od(){return"inline-"+Math.random().toString(36).substr(2,15)}function sd(e){return e.filter(function(t){return t in this?!1:this[t]=!0},Object.create(null))}const zr=Xc.requestIdleCallback||function(e){const t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-t))}})},1)};function el(e){return new Promise(t=>{zr(()=>{e(t)})})}let us=null;function Lo(e){us=e}function Ue(){return us}let yr=!1;function _e(e){Lo(null),e&&!yr&&(yr=!0,tt(()=>{yr=!1}))}function en(e){us!==e&&!yr&&(Lo(e),tt(()=>{Lo(null)}))}function Fe(e,t){const n=(window.rawDocument||document).createElement(e,t);return n.__MICRO_APP_NAME__&&delete n.__MICRO_APP_NAME__,n.__PURE_ELEMENT__=!0,n}function Ut(e){return!e||/(^\d)|([^\w\d-_\u4e00-\u9fa5])/gi.test(e)}function hn(e){return/^body$/i.test(e)||/^head$/i.test(e)||/^html$/i.test(e)||/^title$/i.test(e)||/^:root$/i.test(e)}function yt(e){return Jh(e)?e.host:e}function uo(e){return e?e.replace(/^\s+|\s+$/g,""):""}function wi(){return navigator.userAgent.indexOf("Firefox")>-1}function Ai(e){const t={},n=e.split("&");for(const r of n){const o=r.indexOf("="),s=o<0?r:r.slice(0,o),i=o<0?null:r.slice(o+1);if(s in t){let c=t[s];ft(c)||(c=t[s]=[c]),c.push(i)}else t[s]=i}return t}function Or(e){let t="";for(const n in e){const r=e[n];Co(r)?t+=(t.length?"&":"")+n:(ft(r)?r:[r]).forEach(s=>{kt(s)||(t+=(t.length?"&":"")+n,Co(s)||(t+="="+s))})}return t}function yi(){const e=new Set;function t(n){return e.add(n),()=>e.has(n)?e.delete(n):!1}return{add:t,list:()=>e}}function id(){const e=new Map;function t(n,r){return e.set(n,r),()=>e.has(n)?e.delete(n):!1}return{add:t,get:n=>e.get(n),delete:n=>e.has(n)?e.delete(n):!1}}function No(e){const t=e.attributes,n=new Map;for(let r=0;r<t.length;r++)n.set(t[r].name,t[r].value);return n}function Qn(e,t){e?e.push(()=>el(n=>{t(),n()})):t()}function zn(e){return(e==null?void 0:e.reduce((t,n)=>t.then(n),Promise.resolve()))||null}function Xn(e){return e.startsWith("inline-")}function Pi(e,t,n,...r){try{V(e)&&e(...r)}catch(o){J(`An error occurred in app ${t} window.${n} 
`,null,o)}}function cd(e){for(;e!=null&&e.firstChild;)e.removeChild(e.firstChild)}function ld(){var e;return((e=window.rawWindow)===null||e===void 0?void 0:e.HTMLElement)||window.HTMLElement}const ad=["mounted","unmount"];function Uo(e,t){return ad.includes(e)?`${e}-${t}`:e}function ud(e,t){Object.defineProperties(e,{currentTarget:{get(){return t}},target:{get(){return t}}})}function Dt(e,t,n,r){var o;if(!e)return J(`element does not exist in lifecycle ${n}`,t);e=yt(e),_e();const s=Ge({name:t,container:e},r&&{error:r}),i=new CustomEvent(n,{detail:s});ud(i,e),V((o=K.options.lifeCycles)===null||o===void 0?void 0:o[n])&&K.options.lifeCycles[n](i,t),e.dispatchEvent(i)}function lt(e,t,n={}){var r;const o=new CustomEvent(Uo(t,e.name),{detail:n});(r=e.sandBox)===null||r===void 0||r.microAppWindow.dispatchEvent(o)}function tn(e,t=null,n={}){return _e(),V(K.options.fetch)?K.options.fetch(e,n,t):window.fetch(e,n).then(r=>r.text())}class fs{static getInstance(){return this.instance||(this.instance=new fs),this.instance}run(t,n){const r=t.name,o=t.ssrUrl||t.url;(kc(o,"js")?Promise.resolve(`<micro-app-head><script src='${o}'><\/script></micro-app-head><micro-app-body></micro-app-body>`):tn(o,r,{cache:"no-cache"})).then(c=>{if(!c){const l="html is empty, please check in detail";return t.onerror(new Error(l)),J(l,r)}c=this.formatHTML(o,c,r),n(c,t)}).catch(c=>{J(`Failed to fetch data from ${t.url}, micro-app stop rendering`,r,c),t.onLoadError(c)})}formatHTML(t,n,r){return this.processHtml(t,n,r,K.options.plugins).replace(/<head[^>]*>[\s\S]*?<\/head>/i,o=>o.replace(/<head/i,"<micro-app-head").replace(/<\/head>/i,"</micro-app-head>")).replace(/<body[^>]*>[\s\S]*?<\/body>/i,o=>o.replace(/<body/i,"<micro-app-body").replace(/<\/body>/i,"</micro-app-body>"))}processHtml(t,n,r,o){var s;if(!o)return n;const i=[];return o.global&&i.push(...o.global),!((s=o.modules)===null||s===void 0)&&s[r]&&i.push(...o.modules[r]),i.length>0?i.reduce((c,l)=>pe(l)&&V(l.processHtml)?l.processHtml(c,t):c,n):n}}const fd=/(^|\s+)(html|:root)(?=[\s>~[.#:]+|$)/,Ri=/(^|\s+)((html[\s>~]+body)|body)(?=[\s>~[.#:]+|$)/;function ze(e,t){e=t?`${t} ${e}`:e;const n=new Error(e);throw n.reason=e,t&&(n.filename=t),n}class hd{constructor(){this.cssText="",this.prefix="",this.baseURI="",this.linkPath="",this.result="",this.scopecssDisable=!1,this.scopecssDisableSelectors=[],this.scopecssDisableNextLine=!1,this.mediaRule=this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/,"@media"),this.supportsRule=this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/,"@supports"),this.documentRule=this.createMatcherForRuleWithChildRule(/^@([-\w]+)?document *([^{]+)/,"@document"),this.hostRule=this.createMatcherForRuleWithChildRule(/^@host\s*/,"@host"),this.importRule=this.createMatcherForNoneBraceAtRule("import"),this.charsetRule=this.createMatcherForNoneBraceAtRule("charset"),this.namespaceRule=this.createMatcherForNoneBraceAtRule("namespace"),this.containerRule=this.createMatcherForRuleWithChildRule(/^@container *([^{]+)/,"@container")}exec(t,n,r,o){return this.cssText=t,this.prefix=n,this.baseURI=r,this.linkPath=o||"",this.matchRules(),wi()?decodeURIComponent(this.result):this.result}reset(){this.cssText=this.prefix=this.baseURI=this.linkPath=this.result="",this.scopecssDisable=this.scopecssDisableNextLine=!1,this.scopecssDisableSelectors=[]}matchRules(){for(this.matchLeadingSpaces(),this.matchComments();this.cssText.length&&this.cssText.charAt(0)!=="}"&&(this.matchAtRule()||this.matchStyleRule());)this.matchComments()}matchStyleRule(){const t=this.formatSelector(!0);return this.scopecssDisableNextLine=!1,t?(this.recordResult(t),this.matchComments(),this.styleDeclarations(),this.matchLeadingSpaces(),!0):ze("selector missing",this.linkPath)}formatSelector(t){const n=this.commonMatch(/^[^{]+/,t);return n?n[0].replace(/(^|,[\n\s]*)([^,]+)/g,(r,o,s)=>(s=uo(s),this.scopecssDisableNextLine||this.scopecssDisable&&(!this.scopecssDisableSelectors.length||this.scopecssDisableSelectors.includes(s))||fd.test(s)||(Ri.test(s)?s=s.replace(Ri,this.prefix+" micro-app-body"):s=this.prefix+" "+s),o+s)):!1}styleDeclarations(){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?!0:ze("Declaration missing '}'",this.linkPath)):ze("Declaration missing '{'",this.linkPath)}matchAllDeclarations(t=1){let n=this.commonMatch(/^(?:url\(["']?(?:[^)"'}]+)["']?\)|[^{}/])*/,!0)[0];if(n&&(!this.scopecssDisableNextLine&&(!this.scopecssDisable||this.scopecssDisableSelectors.length)&&(n=n.replace(/url\(["']?([^)"']+)["']?\)/gm,(r,o)=>/^((data|blob):|#|%23)/.test(o)||/^(https?:)?\/\//.test(o)?r:(/^((\.\.?\/)|[^/])/.test(o)&&this.linkPath&&(this.baseURI=nd(this.linkPath)),`url("${Be(o,this.baseURI)}")`))),this.recordResult(n)),this.scopecssDisableNextLine=!1,!!this.cssText)return this.cssText.charAt(0)==="}"?t?(t>1&&this.commonMatch(/}+/),this.matchAllDeclarations(t-1)):void 0:(this.cssText.charAt(0)==="/"&&(this.cssText.charAt(1)==="*"?this.matchComments():this.commonMatch(/\/+/)),this.cssText.charAt(0)==="{"&&(this.commonMatch(/{+\s*/),t++),this.matchAllDeclarations(t))}matchAtRule(){return this.cssText[0]!=="@"?!1:(this.scopecssDisableNextLine=!1,this.keyframesRule()||this.mediaRule()||this.customMediaRule()||this.supportsRule()||this.importRule()||this.charsetRule()||this.namespaceRule()||this.containerRule()||this.documentRule()||this.pageRule()||this.hostRule()||this.fontFaceRule())}keyframesRule(){if(!this.commonMatch(/^@([-\w]+)?keyframes\s*/))return!1;if(!this.commonMatch(/^[^{]+/))return ze("@keyframes missing name",this.linkPath);if(this.matchComments(),!this.matchOpenBrace())return ze("@keyframes missing '{'",this.linkPath);for(this.matchComments();this.keyframeRule();)this.matchComments();return this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ze("@keyframes missing '}'",this.linkPath)}keyframeRule(){let t;const n=[];for(;t=this.commonMatch(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)n.push(t[1]),this.commonMatch(/^,\s*/);return n.length?(this.styleDeclarations(),this.matchLeadingSpaces(),!0):!1}customMediaRule(){return this.commonMatch(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/)?(this.matchLeadingSpaces(),!0):!1}pageRule(){return this.commonMatch(/^@page */)?(this.formatSelector(!1),this.scopecssDisableNextLine=!1,this.commonHandlerForAtRuleWithSelfRule("page")):!1}fontFaceRule(){return this.commonMatch(/^@font-face\s*/)?this.commonHandlerForAtRuleWithSelfRule("font-face"):!1}createMatcherForRuleWithChildRule(t,n){return()=>this.commonMatch(t)?this.matchOpenBrace()?(this.matchComments(),this.matchRules(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ze(`${n} missing '}'`,this.linkPath)):ze(`${n} missing '{'`,this.linkPath):!1}createMatcherForNoneBraceAtRule(t){const n=new RegExp("^@"+t+"\\s*([^;]+);");return()=>this.commonMatch(n)?(this.matchLeadingSpaces(),!0):!1}commonHandlerForAtRuleWithSelfRule(t){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ze(`@${t} missing '}'`,this.linkPath)):ze(`@${t} missing '{'`,this.linkPath)}matchComments(){for(;this.matchComment(););}matchComment(){if(this.cssText.charAt(0)!=="/"||this.cssText.charAt(1)!=="*")return!1;this.scopecssDisableNextLine=!1;let t=2;for(;this.cssText.charAt(t)!==""&&(this.cssText.charAt(t)!=="*"||this.cssText.charAt(t+1)!=="/");)++t;if(t+=2,this.cssText.charAt(t-1)==="")return ze("End of comment missing",this.linkPath);let n=this.cssText.slice(2,t-2);return this.recordResult(`/*${n}*/`),n=uo(n.replace(/^\s*!/,"")),n==="scopecss-disable-next-line"?this.scopecssDisableNextLine=!0:/^scopecss-disable/.test(n)?n==="scopecss-disable"?this.scopecssDisable=!0:(this.scopecssDisable=!0,n.replace("scopecss-disable","").split(",").forEach(o=>{this.scopecssDisableSelectors.push(uo(o))})):n==="scopecss-enable"&&(this.scopecssDisable=!1,this.scopecssDisableSelectors=[]),this.cssText=this.cssText.slice(t),this.matchLeadingSpaces(),!0}commonMatch(t,n=!1){const r=t.exec(this.cssText);if(!r)return;const o=r[0];return this.cssText=this.cssText.slice(o.length),n||this.recordResult(o),r}matchOpenBrace(){return this.commonMatch(/^{\s*/)}matchCloseBrace(){return this.commonMatch(/^}/)}matchLeadingSpaces(){this.commonMatch(/^\s*/)}recordResult(t){wi()?this.result+=encodeURIComponent(t):this.result+=t}}function Si(e,t,n,r,o){if(!e.__MICRO_APP_HAS_SCOPED__){e.__MICRO_APP_HAS_SCOPED__=!0;let s=null;try{s=Nn.exec(e.textContent,n,r,o),Nn.reset()}catch(i){Nn.reset(),J(`An error occurred while parsing CSS:
`,t,i)}s&&(e.textContent=s)}}let Nn;function hs(e,t,n){if(t.scopecss){const r=ds(t.name);if(Nn||(Nn=new hd),e.textContent)Si(e,t.name,r,t.url,n);else{const o=new MutationObserver(function(){o.disconnect(),e.textContent&&!e.hasAttribute("data-styled")&&Si(e,t.name,r,t.url,n)});o.observe(e,{childList:!0})}}return e}function ds(e,t=!1){const n=t?"\\":"";return`${K.tagName}${n}[name=${e}${n}]`}function tl(e,t){Object.defineProperties(e,{currentTarget:{get(){return t}},srcElement:{get(){return t}},target:{get(){return t}}})}function nl(e){const t=new CustomEvent("load");tl(t,e),V(e.onload)?e.onload(t):e.dispatchEvent(t)}function rl(e){const t=new CustomEvent("error");tl(t,e),V(e.onerror)?e.onerror(t):e.dispatchEvent(t)}function dd(){const e=new Map,t=new Map;function n(r){return{setInfo(o,s){r.set(o,s)},getInfo(o){var s;return(s=r.get(o))!==null&&s!==void 0?s:null},hasInfo(o){return r.has(o)},deleteInfo(o){return r.delete(o)}}}return{link:n(e),script:Object.assign(Object.assign({},n(t)),{deleteInlineInfo(r){r.forEach(o=>{Xn(o)&&t.delete(o)})}})}}var He=dd();function pd(e,t,n){const r=n.appSpace;for(const o in r)if(o!==e){const s=r[o];if(s.parsedCode)return s.parsedCode.replace(new RegExp(ds(o,!0),"g"),t)}}function md(e,t){t.forEach((n,r)=>{r!=="rel"&&(r==="href"&&(r="data-origin-href"),g.rawSetAttribute.call(e,r,n))})}function ol(e,t,n,r=!1){const o=e.getAttribute("rel");let s=e.getAttribute("href"),i=null;if(o==="stylesheet"&&s){s=Be(s,n.url);let c=He.link.getInfo(s);const l={attrs:No(e)};if(c?c.appSpace[n.name]=c.appSpace[n.name]||l:c={code:"",appSpace:{[n.name]:l}},He.link.setInfo(s,c),!r)n.source.links.add(s),i=document.createComment(`link element with href=${s} move to micro-app-head as style element`),c.appSpace[n.name].placeholder=i;else return{address:s,linkInfo:c}}else o&&["prefetch","preload","prerender","modulepreload"].includes(o)?r?i=document.createComment(`link element with rel=${o}${s?" & href="+s:""} removed by micro-app`):t==null||t.removeChild(e):s&&g.rawSetAttribute.call(e,"href",Be(s,n.url));if(r)return{replaceComment:i};if(i)return t==null?void 0:t.replaceChild(i,e)}function _d(e,t,n,r){const o=Array.from(t.source.links),s=o.map(c=>{const l=He.link.getInfo(c);return l.code?l.code:tn(c,t.name)}),i=r?[]:null;Qr(s,c=>{Qn(i,()=>gd(o[c.index],c.data,n,t))},c=>{J(c,t.name)},()=>{r?r.then(()=>{i.push(()=>Promise.resolve(t.onLoad({html:e}))),zn(i)}):t.onLoad({html:e})})}function gd(e,t,n,r){const o=He.link.getInfo(e);o.code=t;const s=o.appSpace[r.name],i=s.placeholder;if(i){const c=Fe("style");sl(r,e,c,o,s.attrs),i.parentNode?i.parentNode.replaceChild(c,i):n.appendChild(c),s.placeholder=null}}function sl(e,t,n,r,o){if(e.scopecss){const s=r.appSpace[e.name];if(s.prefix=s.prefix||ds(e.name),s.parsedCode)n.textContent=s.parsedCode;else{const i=pd(e.name,s.prefix,r);i?n.textContent=i:(n.textContent=r.code,hs(n,e,t)),s.parsedCode=n.textContent}}else n.textContent=r.code;md(n,o)}function vd(e,t,n,r){const o=Fe("style"),s=()=>{sl(t,e,o,n,n.appSpace[t.name].attrs),nl(r)};return n.code?tt(s):tn(e,t.name).then(i=>{n.code=i,s()}).catch(i=>{J(i,t.name),rl(r)}),o}var Un;(function(e){e.NAME="name",e.URL="url"})(Un||(Un={}));var ve;(function(e){e.CREATED="created",e.LOADING="loading",e.LOAD_FAILED="load_failed",e.BEFORE_MOUNT="before_mount",e.MOUNTING="mounting",e.MOUNTED="mounted",e.UNMOUNT="unmount"})(ve||(ve={}));var ee;(function(e){e.CREATED="created",e.BEFOREMOUNT="beforemount",e.MOUNTED="mounted",e.UNMOUNT="unmount",e.ERROR="error",e.BEFORESHOW="beforeshow",e.AFTERSHOW="aftershow",e.AFTERHIDDEN="afterhidden"})(ee||(ee={}));var sn;(function(e){e.ONMOUNT="onmount",e.ONUNMOUNT="onunmount"})(sn||(sn={}));var Bn;(function(e){e.KEEP_ALIVE_SHOW="keep_alive_show",e.KEEP_ALIVE_HIDDEN="keep_alive_hidden"})(Bn||(Bn={}));var Mi;(function(e){e.DESTROY="destroy",e.DESTORY="destory",e.INLINE="inline",e.DISABLESCOPECSS="disableScopecss",e.DISABLESANDBOX="disableSandbox",e.DISABLE_SCOPECSS="disable-scopecss",e.DISABLE_SANDBOX="disable-sandbox",e.DISABLE_MEMORY_ROUTER="disable-memory-router",e.DISABLE_PATCH_REQUEST="disable-patch-request",e.KEEP_ROUTER_STATE="keep-router-state",e.HIDDEN_ROUTER="hidden-router",e.KEEP_ALIVE="keep-alive",e.CLEAR_DATA="clear-data",e.SSR="ssr",e.FIBER="fiber"})(Mi||(Mi={}));const Oi="window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history",Ci=[1,2,3],il="state",Yn="search",Cr="native",cl="native-scope",ll="pure",Ed=[Yn,il,Cr,cl,ll],al=["popstate","hashchange","load","beforeunload","unload","unmount","appstate-change","statechange","mounted"],bd=al,wd=al.concat(["unhandledrejection"]),ul=["onpopstate","onhashchange","onload","onbeforeunload","onunload","onerror"],Ad=ul,yd=ul.concat(["onunhandledrejection"]),Pd=["DOMContentLoaded","readystatechange"],Rd=["onreadystatechange"],fl=["window","self","globalThis"],Sd=["rawWindow","rawDocument"],Md=["host","hostname","port","protocol","origin"],Od=["text/javascript","text/ecmascript","application/javascript","application/ecmascript","module","systemjs-module","systemjs-importmap"];function $t(e,t){return t.appSpace[e.name].module&&(!e.useSandbox||e.iframe)}function Cd(e,t){return t.appSpace[e.name].attrs.has("id")}function Xr(e,t){return e.inline||t.appSpace[e.name].inline||$t(e,t)||Cd(e,t)}function hl(e){return e.iframe?e.sandBox.microAppWindow:g.rawWindow}function xd(e,t){const n=hl(e);return new n.Function(t)}function Id(e,t,n){const r=t.appSpace;for(const o in r)if(o!==e.name){const s=r[o];if(s.parsedCode===n&&s.parsedFunction)return s.parsedFunction}}function dl(e,t,n){return Id(e,t,n)||xd(e,n)}function pl(){const e=od();return He.script.hasInfo(e)?pl():e}function Dd(e,t){t.forEach((n,r)=>{r==="type"&&n==="module"||r==="defer"||r==="async"||(r==="src"&&(r="data-origin-src"),g.rawSetAttribute.call(e,r,n))})}function ml(e,t){return e.useSandbox&&!$t(e,t)}function _l(e,t){return ml(e,t)?e.iframe?"iframe":"with":"disable"}function gl(e,t,n,r=!1){var o;let s=null,i=e.getAttribute("src");if(i&&(i=Be(i,n.url)),e.hasAttribute("exclude")||ps(i,n.name))s=document.createComment("script element with exclude attribute removed by micro-app");else{if(e.type&&!Od.includes(e.type)||e.hasAttribute("ignore")||ms(i,n.name))return!((o=g.rawDocument)===null||o===void 0)&&o.currentScript&&delete g.rawDocument.currentScript,null;if(g.supportModuleScript&&e.noModule||!g.supportModuleScript&&e.type==="module")s=document.createComment(`${e.noModule?"noModule":"module"} script ignored by micro-app`);else if(i){let c=He.script.getInfo(i);const l={async:e.hasAttribute("async"),defer:e.defer||e.type==="module",module:e.type==="module",inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:No(e)};if(c?c.appSpace[n.name]=c.appSpace[n.name]||l:c={code:"",isExternal:!0,appSpace:{[n.name]:l}},He.script.setInfo(i,c),!r)n.source.scripts.add(i),s=document.createComment(`script with src='${i}' extract by micro-app`);else return{address:i,scriptInfo:c}}else if(e.textContent){const c=pl(),l={code:e.textContent,isExternal:!1,appSpace:{[n.name]:{async:!1,defer:e.type==="module",module:e.type==="module",inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:No(e)}}};if(!r)n.source.scripts.add(c),He.script.setInfo(c,l),s=document.createComment("inline script extract by micro-app");else return{address:c,scriptInfo:l}}else r||(s=document.createComment("script element removed by micro-app"))}return r?{replaceComment:s}:t==null?void 0:t.replaceChild(s,e)}function vl(e){var t,n,r;const o=((t=K.options.plugins)===null||t===void 0?void 0:t.global)||[],s=((r=(n=K.options.plugins)===null||n===void 0?void 0:n.modules)===null||r===void 0?void 0:r[e])||[];return[...o,...s]}function ps(e,t){return e?(vl(t)||[]).some(r=>r.excludeChecker?r.excludeChecker(e):!1):!1}function ms(e,t){return e?(vl(t)||[]).some(r=>r.ignoreChecker?r.ignoreChecker(e):!1):!1}function Td(e,t){const n=Array.from(t.source.scripts),r=[],o=[];for(const i of n){const c=He.script.getInfo(i),l=c.appSpace[t.name];(!l.defer&&!l.async||t.isPrefetch&&!t.isPrerender)&&(r.push(c.code?c.code:tn(i,t.name)),o.push([i,c]))}const s=t.isPrefetch||t.fiber?[]:null;r.length?Qr(r,i=>{Qn(s,()=>Ld(o[i.index][0],o[i.index][1],i.data,t))},i=>{J(i,t.name)},()=>{s?(s.push(()=>Promise.resolve(t.onLoad({html:e}))),zn(s)):t.onLoad({html:e})}):t.onLoad({html:e})}function Ld(e,t,n,r){if(t.code=n,r.isPrefetch&&r.prefetchLevel===2){const o=t.appSpace[r.name];if(!o.parsedCode&&(o.parsedCode=El(e,r,n,t),o.sandboxType=_l(r,t),!Xr(r,t)))try{o.parsedFunction=dl(r,t,o.parsedCode)}catch(s){J("Something went wrong while handling preloaded resources",r.name,`
`,s)}}}function Nd(e,t){const n=e.fiber?[]:null,r=Array.from(e.source.scripts),o=[],s=[];for(const i of r){const c=He.script.getInfo(i),l=c.appSpace[e.name];l.defer||l.async?(c.isExternal&&!c.code&&!$t(e,c)?o.push(tn(i,e.name)):o.push(c.code),s.push([i,c]),$t(e,c)&&(t.moduleCount=t.moduleCount?++t.moduleCount:1)):Qn(n,()=>{xr(i,e,c),t(!1)})}o.length?Qr(o,i=>{const c=s[i.index][1];c.code=c.code||i.data},i=>{t.errorCount=t.errorCount?++t.errorCount:1,J(i,e.name)},()=>{s.forEach(([i,c])=>{ce(c.code)&&Qn(n,()=>{xr(i,e,c,t),!$t(e,c)&&t(!1)})}),n?(n.push(()=>Promise.resolve(t(kt(t.moduleCount)||t.errorCount===o.length))),zn(n)):t(kt(t.moduleCount)||t.errorCount===o.length)}):n?(n.push(()=>Promise.resolve(t(!0))),zn(n)):t(!0)}function xr(e,t,n,r,o){try{$d(t);const s=n.appSpace[t.name],i=_l(t,n);if((!s.parsedCode||s.sandboxType!==i)&&(s.parsedCode=El(e,t,n.code,n),s.sandboxType=i,s.parsedFunction=null),Xr(t,n)){const c=o||Fe("script");if(Fd(e,s.parsedCode,$t(t,n),c,s.attrs,r),!o){const l=t.iframe?t.sandBox.microBody:t.querySelector("micro-app-body");l==null||l.appendChild(c)}}else Hd(t,n)}catch(s){throw console.error(`[micro-app from ${o?"runDynamicScript":"runScript"}] app ${t.name}: `,s,e),s}}function Ud(e,t,n,r){const o=Xr(t,n)?Fe("script"):document.createComment("dynamic script extract by micro-app"),s=()=>nl(r),i=()=>{const c=Object.getOwnPropertyDescriptor(g.rawDocument,"currentScript");(!c||c.configurable)&&Object.defineProperty(g.rawDocument,"currentScript",{value:r,configurable:!0}),xr(e,t,n,s,o),!$t(t,n)&&s()};return n.code||$t(t,n)?tt(i):tn(e,t.name).then(c=>{n.code=c,i()}).catch(c=>{J(c,t.name),rl(r)}),o}function Bd(e,t,n){const r=Xr(t,n)?Fe("script"):document.createComment("dynamic script extract by micro-app");return xr(e,t,n,void 0,r),r}function Fd(e,t,n,r,o,s){if(n){if(g.rawSetAttribute.call(r,"type","module"),Xn(e)?r.textContent=t:r.src=e,s){const i=()=>{s.moduleCount&&s.moduleCount--,s(s.moduleCount===0)};Xn(e)?tt(i):r.onload=i}}else r.textContent=t;Dd(r,o)}function Hd(e,t){const n=t.appSpace[e.name];n.parsedFunction||(n.parsedFunction=dl(e,t,n.parsedCode)),n.parsedFunction.call(hl(e))}function El(e,t,n,r){return pe(K.options.plugins)&&(n=jd(e,n,t.name,K.options.plugins)),ml(t,r)?t.iframe?`(function(window,self,global,location){;${n}
${Xn(e)?"":`//# sourceURL=${e}
`}}).call(window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyLocation);`:`;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${Oi}){;${n}
${Xn(e)?"":`//# sourceURL=${e}
`}}).call(proxyWindow,${Oi})}})(window.__MICRO_APP_PROXY_WINDOW__);`:n}function $d(e){Wd(e)}function Wd(e){e.sandBox&&(g.rawWindow.__MICRO_APP_PROXY_WINDOW__=e.sandBox.proxyWindow)}function jd(e,t,n,r){var o;const s=xi(r.global,t,e);return xi((o=r.modules)===null||o===void 0?void 0:o[n],s,e)}function xi(e,t,n){return ft(e)?e.reduce((r,o)=>pe(o)&&V(o.loader)?o.loader(r,n):r,t):t}function bl(e,t,n,r){const o=Array.from(e.children);o.length&&o.forEach(s=>{bl(s,t,n,r)});for(const s of o)Zc(s)?s.hasAttribute("exclude")||ps(s.getAttribute("href"),t.name)?e.replaceChild(document.createComment("link element with exclude attribute ignored by micro-app"),s):s.hasAttribute("ignore")||ms(s.getAttribute("href"),t.name)?s.hasAttribute("href")&&g.rawSetAttribute.call(s,"href",Be(s.getAttribute("href"),t.url)):ol(s,e,t):ls(s)?s.hasAttribute("exclude")?e.replaceChild(document.createComment("style element with exclude attribute ignored by micro-app"),s):t.scopecss&&!s.hasAttribute("ignore")&&Qn(r,()=>hs(s,t)):fn(s)?gl(s,e,t):kh(s)&&s.hasAttribute("src")&&g.rawSetAttribute.call(s,"src",Be(s.getAttribute("src"),t.url))}function Kd(e,t){const n=t.parseHtmlString(e),r=g.rawElementQuerySelector.call(n,"micro-app-head"),o=g.rawElementQuerySelector.call(n,"micro-app-body");if(!r||!o){const c=`element ${r?"body":"head"} is missing`;return t.onerror(new Error(c)),J(c,t.name)}const s=t.isPrefetch||t.fiber?[]:null;bl(n,t,r,s);const i=zn(s);t.source.links.size?_d(n,t,r,i):i?i.then(()=>t.onLoad({html:n})):t.onLoad({html:n}),t.source.scripts.size?Td(n,t):t.onLoad({html:n})}class Gd{constructor(){this.eventList=new Map,this.queue=[],this.recordStep={},this.process=()=>{var t,n;let r;const o=this.recordStep,s=this.queue;for(this.recordStep={},this.queue=[];r=s.shift();){const i=this.eventList.get(r),c=i.tempData,l=i.force;i.tempData=null,i.force=!1;let a;if(l||!this.isEqual(i.data,c)){i.data=c||i.data;for(const u of i.callbacks){const h=u(i.data);h&&(a??(a=[])).push(h)}(n=(t=o[r]).dispatchDataEvent)===null||n===void 0||n.call(t),o[r].nextStepList.forEach(u=>u(a))}}}}isLegalName(t){return t?!0:(J("event-center: Invalid name"),!1)}enqueue(t,n,r){this.recordStep[t]?(this.recordStep[t].nextStepList.push(n),r&&(this.recordStep[t].dispatchDataEvent=r)):this.recordStep[t]={nextStepList:[n],dispatchDataEvent:r},!this.queue.includes(t)&&this.queue.push(t)===1&&tt(this.process)}isEqual(t,n){if(!n||Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==n[r])return!1;return!0}on(t,n,r=!1){if(this.isLegalName(t)){if(!V(n))return J("event-center: Invalid callback function");let o=this.eventList.get(t);o?r&&Object.keys(o.data).length&&(!this.queue.includes(t)||this.isEqual(o.data,o.tempData))&&n(o.data):(o={data:{},callbacks:new Set},this.eventList.set(t,o)),o.callbacks.add(n)}}off(t,n){if(this.isLegalName(t)){const r=this.eventList.get(t);r&&(V(n)?r.callbacks.delete(n):r.callbacks.clear())}}clearData(t){if(this.isLegalName(t)){const n=this.eventList.get(t);n&&(n.data={})}}dispatch(t,n,r,o,s){if(this.isLegalName(t)){if(!pe(n))return J("event-center: data must be object");let i=this.eventList.get(t);i?(i.tempData=Ge({},i.tempData||i.data,n),!i.force&&(i.force=!!o)):(i={data:n,callbacks:new Set},this.eventList.set(t,i),i.force=!0),this.enqueue(t,r,s)}}getData(t){var n;const r=this.eventList.get(t);return(n=r==null?void 0:r.data)!==null&&n!==void 0?n:null}}const fe=new Gd;function xe(e,t){return!ce(e)||!e?"":t?`__from_base_app_${e}__`:`__from_micro_app_${e}__`}class wl{addGlobalDataListener(t,n){const r=this.appName;r&&(t.__APP_NAME__=r,t.__AUTO_TRIGGER__=n),fe.on("global",t,n)}removeGlobalDataListener(t){V(t)&&fe.off("global",t)}setGlobalData(t,n,r){_e(),fe.dispatch("global",t,o=>V(n)&&n(o),r)}forceSetGlobalData(t,n){this.setGlobalData(t,n,!0)}getGlobalData(){return fe.getData("global")}clearGlobalData(){fe.clearData("global")}clearGlobalDataListener(){const t=this.appName,n=fe.eventList.get("global");if(n)for(const r of n.callbacks)(t&&t===r.__APP_NAME__||!(t||r.__APP_NAME__))&&n.callbacks.delete(r)}}class qd extends wl{addDataListener(t,n,r){fe.on(xe(Ee(t),!1),n,r)}removeDataListener(t,n){V(n)&&fe.off(xe(Ee(t),!1),n)}getData(t,n=!1){return fe.getData(xe(Ee(t),n))}setData(t,n,r,o){fe.dispatch(xe(Ee(t),!0),n,s=>V(r)&&r(s),o)}forceSetData(t,n,r){this.setData(t,n,r,!0)}clearData(t,n=!0){fe.clearData(xe(Ee(t),n))}clearDataListener(t){fe.off(xe(Ee(t),!1))}}class Al extends wl{constructor(t){super(),this.appName=Ee(t),!this.appName&&J(`Invalid appName ${t}`)}addDataListener(t,n){t.__AUTO_TRIGGER__=n,fe.on(xe(this.appName,!0),t,n)}removeDataListener(t){V(t)&&fe.off(xe(this.appName,!0),t)}getData(t=!0){return fe.getData(xe(this.appName,t))}dispatch(t,n,r){_e(),fe.dispatch(xe(this.appName,!1),t,o=>V(n)&&n(o),r,()=>{const o=G.get(this.appName);if(o!=null&&o.container&&pe(t)){const s=new CustomEvent("datachange",{detail:{data:fe.getData(xe(this.appName,!1))}});yt(o.container).dispatchEvent(s)}})}forceDispatch(t,n){this.dispatch(t,n,!0)}clearData(t=!1){fe.clearData(xe(this.appName,t))}clearDataListener(){fe.off(xe(this.appName,!0))}}function yl(e){var t,n;if(e){e.umdDataListeners={global:new Set((t=e.umdDataListeners)===null||t===void 0?void 0:t.global),normal:new Set((n=e.umdDataListeners)===null||n===void 0?void 0:n.normal)};const r=fe.eventList.get("global");if(r)for(const s of r.callbacks)e.appName===s.__APP_NAME__&&e.umdDataListeners.global.add(s);const o=fe.eventList.get(xe(e.appName,!0));if(o)for(const s of o.callbacks)e.umdDataListeners.normal.add(s)}}function Pl(e){if(e!=null&&e.umdDataListeners){for(const t of e.umdDataListeners.global)e.addGlobalDataListener(t,t.__AUTO_TRIGGER__);for(const t of e.umdDataListeners.normal)e.addDataListener(t,t.__AUTO_TRIGGER__);_s(e)}}function _s(e){e==null||delete e.umdDataListeners}class Ir{constructor(){this.appInstanceMap=G}static getInstance(){return this.instance||(this.instance=new Ir),this.instance}get(t){return this.appInstanceMap.get(t)}set(t,n){this.appInstanceMap.set(t,n)}getAll(){return Array.from(this.appInstanceMap.values())}clear(){this.appInstanceMap.clear()}}function Rl(){Sl(),Ir.getInstance().getAll().forEach(e=>{e.container&&yt(e.container).disconnectedCallback()}),!window.__MICRO_APP_UMD_MODE__&&Ir.getInstance().clear()}function Sl(){window.__MICRO_APP_ENVIRONMENT__&&window.removeEventListener("unmount",Rl,!1)}function Vd(){window.__MICRO_APP_ENVIRONMENT__&&(Sl(),window.addEventListener("unmount",Rl,!1))}function Qd(e){return Yc(e.__MICRO_APP_IS_BOUND_FUNCTION__)?e.__MICRO_APP_IS_BOUND_FUNCTION__:e.__MICRO_APP_IS_BOUND_FUNCTION__=Yh(e)}function zd(e){return Yc(e.__MICRO_APP_IS_CONSTRUCTOR__)?e.__MICRO_APP_IS_CONSTRUCTOR__:e.__MICRO_APP_IS_CONSTRUCTOR__=cs(e)}function qe(e,t,n="WINDOW"){if(V(e)&&!zd(e)&&!Qd(e)){const r=`__MICRO_APP_BOUND_${n}_FUNCTION__`;if(e[r])return e[r];const o=e.bind(t);for(const s in e)o[s]=e[s];return e.hasOwnProperty("prototype")&&be(o,"prototype",{value:e.prototype,configurable:!0,enumerable:!1,writable:!0}),e[r]=o}return e}function Xd(e,t,n){const{proxyDocument:r,documentEffect:o}=Yd(e,n),s=Jd(e,r);return vt(t,{document:{configurable:!1,enumerable:!0,get(){return r}},Document:{configurable:!1,enumerable:!1,get(){return s}}}),o}function Yd(e,t){const n=new Map,r=new Map;let o=null,s=null;const{rawDocument:i,rawCreateElement:c,rawCreateElementNS:l,rawAddEventListener:a,rawRemoveEventListener:u}=g;function h(_,E){const x=c.call(i,_,E);return x.__MICRO_APP_NAME__=e,x}function m(_,E,x){const Y=l.call(i,_,E,x);return Y.__MICRO_APP_NAME__=e,Y}function v(_,E,x){const Y=n.get(_);Y?Y.add(E):n.set(_,new Set([E])),E&&(E.__MICRO_APP_MARK_OPTIONS__=x),a.call(i,_,E,x)}function I(_,E,x){const Y=n.get(_);Y!=null&&Y.size&&Y.has(E)&&Y.delete(E),u.call(i,_,E,x)}const P=()=>{r.clear(),s=null},T=()=>{s=o||s,n.forEach((_,E)=>{if(_.size){const x=r.get(E)||[];r.set(E,new Set([...x,..._]))}})},y=()=>{s&&!o&&(C.onclick=s),r.forEach((_,E)=>{for(const x of _)C.addEventListener(E,x,x==null?void 0:x.__MICRO_APP_MARK_OPTIONS__)}),P()},w=()=>{V(o)&&u.call(i,"click",o),o=null,n.size&&(n.forEach((_,E)=>{for(const x of _)u.call(i,E,x)}),n.clear())},A=(()=>{var _;const E=new Map([["onclick",ye=>{V(o)&&u.call(i,"click",o,!1),V(ye)&&a.call(i,"click",ye,!1),o=ye}]]),x=((_=K.options)===null||_===void 0?void 0:_.customProxyDocumentProps)||new Map;return new Map([...E,...x])})(),C=new Proxy(i,{get:(_,E)=>{var x;return en(e),E==="createElement"?h:E==="createElementNS"?m:E===Symbol.toStringTag?"ProxyDocument":E==="defaultView"?t.proxyWindow:E==="onclick"?o:E==="addEventListener"?v:E==="removeEventListener"?I:E==="microAppElement"?(x=G.get(e))===null||x===void 0?void 0:x.container:E==="__MICRO_APP_NAME__"?e:qe(Reflect.get(_,E),i,"DOCUMENT")},set:(_,E,x)=>(A.has(E)?A.get(E)(x):E!=="microAppElement"&&Reflect.set(_,E,x),!0)});return{proxyDocument:C,documentEffect:{reset:P,record:T,rebuild:y,release:w}}}function Jd(e,t){const{rawDocument:n,rawRootDocument:r}=g;class o{static[Symbol.hasInstance](i){let c=i;for(;c;)if(c=Object.getPrototypeOf(c),c===o.prototype)return!0;return i===t||i instanceof r}}return Object.setPrototypeOf(o,r),Object.setPrototypeOf(o.prototype,new Proxy(r.prototype,{get(s,i){return en(e),qe(Reflect.get(s,i),n,"DOCUMENT")},set(s,i,c){return Reflect.set(s,i,c),!0}})),o}function Zd(e,t,n){return kd(t),ep(e,t,n),tp(t,e)}function kd(e){const t=g.rawWindow;Object.getOwnPropertyNames(t).filter(n=>/^on/.test(n)&&!Ad.includes(n)).forEach(n=>{const{enumerable:r,writable:o,set:s}=Object.getOwnPropertyDescriptor(t,n)||{enumerable:!0,writable:!0};be(e,n,{enumerable:r,configurable:!0,get:()=>t[n],set:o??!!s?i=>{t[n]=i}:void 0})})}function ep(e,t,n){const r=g.rawWindow,o=new Map,s=new Proxy(t,{get:(i,c)=>(en(e),Reflect.has(i,c)||ce(c)&&/^__MICRO_APP_/.test(c)||je(n.scopeProperties,c)?(je(Sd,c)&&_e(),Reflect.get(i,c)):qe(Reflect.get(r,c),r)),set:(i,c,l)=>{if(je(n.rawWindowScopeKeyList,c))Reflect.set(r,c,l);else if(!Yt.call(i,c)&&Yt.call(r,c)&&!je(n.scopeProperties,c)){const a=Object.getOwnPropertyDescriptor(r,c),{configurable:u,enumerable:h,writable:m,set:v}=a;be(i,c,{value:l,configurable:u,enumerable:h,writable:m??!!v}),n.injectedKeys.add(c)}else(!Reflect.has(i,c)||je(n.scopeProperties,c))&&n.injectedKeys.add(c),Reflect.set(i,c,l);return(je(n.escapeProperties,c)||je(n.staticEscapeProperties,c)&&!Reflect.has(r,c))&&!je(n.scopeProperties,c)&&(!Reflect.has(r,c)&&n.escapeKeys.add(c),Reflect.set(r,c,l)),!0},has:(i,c)=>je(n.scopeProperties,c)?n.injectedKeys.has(c)?Reflect.has(i,c):!!i[c]:Reflect.has(i,c)||Reflect.has(r,c),getOwnPropertyDescriptor:(i,c)=>{if(Yt.call(i,c))return o.set(c,"target"),Object.getOwnPropertyDescriptor(i,c);if(Yt.call(r,c)){o.set(c,"rawWindow");const l=Object.getOwnPropertyDescriptor(r,c);return l&&!l.configurable&&(l.configurable=!0),l}},defineProperty:(i,c,l)=>o.get(c)==="rawWindow"?Reflect.defineProperty(r,c,l):Reflect.defineProperty(i,c,l),ownKeys:i=>sd(Reflect.ownKeys(r).concat(Reflect.ownKeys(i))),deleteProperty:(i,c)=>Yt.call(i,c)?(n.injectedKeys.has(c)&&n.injectedKeys.delete(c),n.escapeKeys.has(c)&&Reflect.deleteProperty(r,c),Reflect.deleteProperty(i,c)):!0});n.proxyWindow=s}function tp(e,t){const n=new Map,r=new Map,o=new Map,s=new Map,{rawWindow:i,rawAddEventListener:c,rawRemoveEventListener:l,rawDispatchEvent:a,rawSetInterval:u,rawSetTimeout:h,rawClearInterval:m,rawClearTimeout:v}=g;function I(p){var A;return bd.includes(p)&&(!((A=G.get(t))===null||A===void 0)&&A.container)?yt(G.get(t).container):i}e.addEventListener=function(p,A,C){p=Uo(p,t);const _=n.get(p);_?_.add(A):n.set(p,new Set([A])),A&&(A.__MICRO_APP_MARK_OPTIONS__=C),c.call(I(p),p,A,C)},e.removeEventListener=function(p,A,C){p=Uo(p,t);const _=n.get(p);_!=null&&_.size&&_.has(A)&&_.delete(A),l.call(I(p),p,A,C)},e.dispatchEvent=function(p){return a.call(I(p==null?void 0:p.type),p)},e.setInterval=function(p,A,...C){const _=u.call(i,p,A,...C);return o.set(_,{handler:p,timeout:A,args:C}),_},e.setTimeout=function(p,A,...C){const _=h.call(i,p,A,...C);return s.set(_,{handler:p,timeout:A,args:C}),_},e.clearInterval=function(p){o.delete(p),m.call(i,p)},e.clearTimeout=function(p){s.delete(p),v.call(i,p)};const P=()=>{r.clear()};return{reset:P,record:()=>{n.forEach((p,A)=>{if(p.size){const C=r.get(A)||[];r.set(A,new Set([...C,...p]))}})},rebuild:()=>{r.forEach((p,A)=>{for(const C of p)e.addEventListener(A,C,C==null?void 0:C.__MICRO_APP_MARK_OPTIONS__)}),P()},release:p=>{n.size&&(n.forEach((A,C)=>{for(const _ of A)l.call(I(C),C,_)}),n.clear()),p&&(o.forEach((A,C)=>{m.call(i,C)}),s.forEach((A,C)=>{v.call(i,C)}),o.clear(),s.clear())}}}function Et(e,t,n){const r=g.rawWindow.history.state,o={__MICRO_APP_STATE__:Ge({},r==null?void 0:r.__MICRO_APP_STATE__,{[e]:{fullPath:n.pathname+n.search+n.hash,state:t,mode:bn(e)}})};return Ge({},r,o)}function np(e,t){return pe(t==null?void 0:t.__MICRO_APP_STATE__)&&(kt(t.__MICRO_APP_STATE__[e])||delete t.__MICRO_APP_STATE__[e],Object.keys(t.__MICRO_APP_STATE__).length||delete t.__MICRO_APP_STATE__),Ge({},t)}function sr(e){var t,n;const r=g.rawWindow.history.state;return((n=(t=r==null?void 0:r.__MICRO_APP_STATE__)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.state)||(bt(e)?r:null)}const rp=/&/g,op=/=/g,Ml=/%M1/g,Ol=/%M2/g;function Cl(e){return encodeURIComponent(gs(e).replace(rp,"%M1").replace(op,"%M2"))}function xl(e){return gs(e).replace(Ml,"&").replace(Ol,"=")}function gs(e){try{const t=decodeURIComponent(e);return e===t||Ml.test(t)||Ol.test(t)?t:gs(t)}catch{return e}}function ir(e){var t,n,r,o;const s=g.rawWindow.location,i=g.rawWindow.history.state;if(De(e)){const c=vs(s.search,s.hash),l=((t=c.hashQuery)===null||t===void 0?void 0:t[e])||((n=c.searchQuery)===null||n===void 0?void 0:n[e]);return ce(l)?xl(l):null}return((o=(r=i==null?void 0:i.__MICRO_APP_STATE__)===null||r===void 0?void 0:r[e])===null||o===void 0?void 0:o.fullPath)||(bt(e)?s.pathname+s.search+s.hash:null)}function Wt(e,t){const n=g.rawWindow.location;let r=t.pathname+t.search+t.hash,o=!1;if(De(e)){let{pathname:s,search:i,hash:c}=n;const l=vs(i,c),a=Cl(r);return c&&!i?(o=!0,l.hashQuery?l.hashQuery[e]=a:l.hashQuery={[e]:a},c=(c.includes("?")?c.slice(0,c.indexOf("?")+1):c+"?")+Or(l.hashQuery)):(l.searchQuery?l.searchQuery[e]=a:l.searchQuery={[e]:a},i="?"+Or(l.searchQuery)),{fullPath:s+i+c,isAttach2Hash:o}}return(Es(e)||Ze(e))&&(r=n.pathname+n.search+n.hash),{fullPath:r,isAttach2Hash:o}}function sp(e){var t,n,r,o;let{pathname:s,search:i,hash:c}=g.rawWindow.location,l=!1;if(De(e)){const a=vs(i,c);if(!((t=a.hashQuery)===null||t===void 0)&&t[e]){l=!0,(n=a.hashQuery)===null||n===void 0||delete n[e];const u=Or(a.hashQuery);c=c.slice(0,c.indexOf("?")+ +!!u)+u}else if(!((r=a.searchQuery)===null||r===void 0)&&r[e]){(o=a.searchQuery)===null||o===void 0||delete o[e];const u=Or(a.searchQuery);i=u?"?"+u:""}}return{fullPath:s+i+c,isAttach2Hash:l}}function vs(e,t){const n={};return e!==""&&e!=="?"&&(n.searchQuery=Ai(e.slice(1))),t.includes("?")&&(n.hashQuery=Ai(t.slice(t.indexOf("?")+1))),n}function ip(e,t){const n=ir(e);if(!n)return"";const r=ue(n,t);return r.origin+r.pathname+r.search}function Jn(e){const t=G.get(e);return!!(t&&!t.isPrefetch)}function bn(e){var t;return(t=G.get(e))===null||t===void 0?void 0:t.routerMode}function De(e){return bn(e)===Yn}function Es(e){return bn(e)===il}function Bo(e){return bn(e)===Cr}function cp(e){return bn(e)===cl}function Ze(e){return bn(e)===ll}function bt(e){return Bo(e)||cp(e)}function Il(e,t){const n=t&&Cr||e||K.options["disable-memory-router"]&&Cr||K.options["router-mode"]||Yn;return Ed.includes(n)?n:Yn}function Dl(e){const t=g.rawWindow,n=r=>{dn({excludeHiddenApp:!0,excludePreRender:!0}).includes(e)&&!r.onlyForBrowser&&Dr(e,ir(e))};return t.addEventListener("popstate",n),()=>{t.removeEventListener("popstate",n)}}function Dr(e,t){const n=G.get(e),r=n.sandBox.proxyWindow,o=n.sandBox.microAppWindow;let s=!1;const i=r.location.href;if(t){const c=r.location.hash;wn(e,t,o.location),s=r.location.hash!==c}lp(e,r,o),s&&ap(e,r,o,i),_e()}function lp(e,t,n){const r=new PopStateEvent("popstate",{state:sr(e)});n.dispatchEvent(r),lr(e)||V(t.onpopstate)&&t.onpopstate(r)}function ap(e,t,n,r){const o=new HashChangeEvent("hashchange",{newURL:t.location.href,oldURL:r});n.dispatchEvent(o),lr(e)||V(t.onhashchange)&&t.onhashchange(o)}function up(e){const t=new PopStateEvent("popstate",{state:null});e&&(t.onlyForBrowser=!0),g.rawWindow.dispatchEvent(t)}function fp(e){const t=new HashChangeEvent("hashchange",{newURL:g.rawWindow.location.href,oldURL:e});g.rawWindow.dispatchEvent(t)}function Fo(e,t,n){_e(),Jn(e)&&(up(t),n&&fp(n))}function Tl(e,t){const n=g.rawWindow.history;function r(i){return function(...c){var l,a,u;if(ce(c[2])||or(c[2])){const h=ue(c[2],t.href),m=h.pathname+h.search+h.hash;Ze(e)||Yr(e,i,Wt(e,h),!0,Et(e,c[0],h),c[1]),m!==t.fullPath&&wn(e,m,t),(u=(l=G.get(e))===null||l===void 0?void 0:(a=l.sandBox).updateIframeBase)===null||u===void 0||u.call(a)}else Fn(e,i,c[2],c[0],c[1])}}const o=r("pushState"),s=r("replaceState");return lr(e)?{pushState:o,replaceState:s}:new Proxy(n,{get(i,c){return c==="state"?sr(e):c==="pushState"?o:c==="replaceState"?s:qe(Reflect.get(i,c),i,"HISTORY")},set(i,c,l){return Reflect.set(i,c,l),!0}})}function Fn(e,t,n,r=null,o=""){Jn(e)&&(t==="pushState"?g.rawPushState:g.rawReplaceState).call(g.rawWindow.history,r,o,n)}function Yr(e,t,n,r,o,s){if(Jn(e)){const i=g.rawWindow.location,c=i.pathname+i.search+i.hash,l=n.isAttach2Hash&&c!==n.fullPath?i.href:null;Fn(e,t,n.fullPath,o,s),c!==n.fullPath&&De(e)&&Fo(e,r,l)}}function Jr(e,t,n){Yr(e,"replaceState",t,!0,n)}function Ii(e){const t=g.rawWindow;return function(...n){var r;if(!((r=t.history.state)===null||r===void 0)&&r.__MICRO_APP_STATE__&&(!pe(n[0])||!n[0].__MICRO_APP_STATE__)&&(ce(n[2])||or(n[2]))){const o=t.location.href;ue(n[2],o).href===o&&(n[0]=Ge({},n[0],{__MICRO_APP_STATE__:t.history.state.__MICRO_APP_STATE__}))}e.apply(t.history,n),dn({excludeHiddenApp:!0,excludePreRender:!0}).forEach(o=>{if((De(o)||Es(o))&&!ir(o)){const s=G.get(o);Jr(o,Wt(o,s.sandBox.proxyWindow.location),Et(o,sr(o),s.sandBox.proxyWindow.location))}}),_e()}}function Ll(){const e=g.rawWindow;e.history.pushState=Ii(g.rawPushState),e.history.replaceState=Ii(g.rawReplaceState)}function Nl(){const e=g.rawWindow;e.history.pushState=g.rawPushState,e.history.replaceState=g.rawReplaceState}function hp(){function e(P,T,y,w){Yr(P,T,Wt(P,y),!1,Et(P,w??null,y)),_e()}function t(P,T,y,w){const p=T.sandBox.proxyWindow.location,A=ue(y.path,p.href),C=p.pathname+p.search+p.hash,_=A.pathname+A.search+A.hash;if(C!==_||ir(P)!==_){if(!Ze(P)){const E=w&&y.replace!==!1||y.replace===!0?"replaceState":"pushState";e(P,E,A,y.state)}De(P)||Dr(P,_)}}function n(P){return function(T){return new Promise((y,w)=>{const p=Ee(T.name);if(p&&ce(T.path))if(dn({excludeHiddenApp:!0,excludePreRender:!0}).includes(p)){const A=G.get(p);y(A.sandBox.sandboxReady.then(()=>t(p,A,T,P)))}else w(J("导航失败，请确保子应用渲染后再调用此方法"));else w(J(`navigation failed, name & path are required when use router.${P?"replace":"push"}`))})}}function r(P){return function(...T){return g.rawWindow.history[P](...T)}}const o=yi(),s=yi();function i(P,T,y,w){_e();for(const p of w)V(p)?p(T,y,P):pe(p)&&V(p[P])&&p[P](T,y)}function c(P,T,y){I.current.set(P,T),i(P,T,y,o.list()),zr(()=>{i(P,T,y,s.list())})}function l(P){I.current.delete(P)}function a(P){if(De(P)||Es(P)){const T=G.get(P);Jr(P,Wt(P,T.sandBox.proxyWindow.location),Et(P,sr(P),T.sandBox.proxyWindow.location))}}function u(P){P=Ee(P),P&&dn().includes(P)&&a(P)}function h({includeHiddenApp:P=!1,includePreRender:T=!1}){dn({excludeHiddenApp:!P,excludePreRender:!T}).forEach(y=>a(y))}function m(){const P=id();function T(w){const p=Ee(w.name);return!p||!w.path?zh:P.add(p,w.path)}function y(w){return w=Ee(w),w?P.delete(w):!1}return{setDefaultPage:T,removeDefaultPage:y,getDefaultPage:P.get}}function v(){let P=null;function T(y){Jc(y)&&(P=new Proxy(y,{get(w,p){return _e(),qe(Reflect.get(w,p),w,"BASEROUTER")},set(w,p,A){return Reflect.set(w,p,A),!0}}))}return{setBaseAppRouter:T,getBaseAppRouter:()=>P}}const I=Object.assign(Object.assign({current:new Map,encode:Cl,decode:xl,push:n(!1),replace:n(!0),go:r("go"),back:r("back"),forward:r("forward"),beforeEach:o.add,afterEach:s.add,attachToURL:u,attachAllToURL:h},m()),v());return{router:I,executeNavigationGuard:c,clearRouterWhenUnmount:l}}const{router:cr,executeNavigationGuard:Ul,clearRouterWhenUnmount:dp}=hp(),pp=["href","pathname","search","hash","host","hostname","port","protocol","search"],mp=[...pp,"origin","fullPath"];function Bl(e,t,n,r,o,s){const c=g.rawWindow.location,l=!!n,a=ue(t);function u(){return l?n.location:a}function h(w,p){const A=ue(w,y.href);if(A.origin===y.origin){const C=Wt(e,A);if(!bt(e)){if(p=Ze(e)?"replaceState":p,A.pathname===y.pathname&&A.search===y.search){let _=null;(A.hash!==y.hash||Ze(e))&&(C.isAttach2Hash&&(_=c.href),(!Ze(e)||!A.hash)&&Fn(e,p,C.fullPath,De(e)?null:Et(e,null,A))),A.hash?De(e)?Fo(e,!1,_):Dr(e,A.pathname+A.search+A.hash):T();return}Fn(e,p,C.fullPath,De(e)?null:Et(e,null,A)),T();return}return C.fullPath}return w}function m(w,p){const A=ue(w,t);A[p]===y[p]&&y.hash?Fo(e,!1):(Fn(e,A[p]===y[p]||Ze(e)?"replaceState":"pushState",Wt(e,A).fullPath,De(e)?null:Et(e,null,A)),T())}const v=w=>function(p){if(Jn(e)){const A=h(p,w==="assign"?"pushState":"replaceState");A&&c[w](ue(A,c.origin).href)}},I=v("assign"),P=v("replace"),T=w=>c.reload(w);be(u(),"fullPath",{enumerable:!0,configurable:!0,get:()=>y.pathname+y.search+y.hash});const y=new Proxy({},{get:(w,p)=>{const A=u();if(p==="assign")return I;if(p==="replace")return P;if(p==="reload")return T;if(p==="self")return A;if(p==="fullPath")return A.fullPath;if(Md.includes(p)){if(Bo(e))return c[p];if(l)return r[p]}if(p==="href"){if(Bo(e))return A[p].replace(A.origin,c.origin);if(l)return A[p].replace(o,s)}return qe(Reflect.get(A,p),A,"LOCATION")},set:(w,p,A)=>{if(Jn(e)){const C=u();if(p==="href"){const _=h(A,"pushState");_&&(c.href=ue(_,c.origin).href)}else if(p==="pathname")if(bt(e))c.pathname=A;else{const _=("/"+A).replace(/^\/+/,"/")+y.search+y.hash;m(_,"pathname")}else if(p==="search")if(bt(e))c.search=A;else{const _=y.pathname+("?"+A).replace(/^\?+/,"?")+y.hash;m(_,"search")}else if(p==="hash")if(bt(e))c.hash=A;else{const _=y.pathname+y.search+("#"+A).replace(/^#+/,"#"),E=ue(_,t);E.hash!==y.hash&&(Ze(e)||Yr(e,"pushState",Wt(e,E),!1,Et(e,null,E)),De(e)||Dr(e,E.pathname+E.search+E.hash))}else Reflect.set(C,p,A)}return!0}});return y}function Tr(e,t){const n=Ge({name:e},t);for(const r of mp)n[r]=t[r];return n}function _p(e,t){Ul(e,Tr(e,t),Tr(e,t))}function wn(e,t,n,r){var o;const s=Tr(e,n),i=ue(t,n.href);if(lr(e)){const l=G.get(e).sandBox.microAppWindow;(o=l.rawReplaceState)===null||o===void 0||o.call(l.history,sr(e),"",i.href)}else{let l=i.href;n.self.origin!==i.origin&&(l=l.replace(i.origin,n.self.origin)),n.self.href=l}const c=Tr(e,n);(r==="auto"||s.fullPath!==c.fullPath&&r!=="prevent")&&Ul(e,c,s)}function gp(e,t){const n=Bl(e,t);return{microLocation:n,microHistory:Tl(e,n)}}function Fl(e,t,n){const r=ir(e);r?(wn(e,r,t,"auto"),Ze(e)&&Zr(e)):bs(e,t,n)}function bs(e,t,n){n&&wn(e,n,t,"prevent"),Ze(e)||Jr(e,Wt(e,t),Et(e,null,t)),_p(e,t)}function Hl(e,t,n,r){if(!r&&!bt(e)){const{pathname:o,search:s,hash:i}=ue(t);wn(e,o+s+i,n,"prevent")}Ze(e)||Zr(e),dp(e)}function Zr(e){Jr(e,sp(e),np(e,g.rawWindow.history.state))}class vp{constructor(){this.rawWindowScopeKeyList=["location"],this.staticEscapeProperties=["System","__cjsWrapper"],this.staticScopeProperties=["webpackJsonp","webpackHotUpdate","Vue","onpopstate","onhashchange"],this.scopeProperties=Array.from(this.staticScopeProperties),this.escapeProperties=[],this.injectedKeys=new Set,this.escapeKeys=new Set,this.injectReactHMRProperty()}injectReactHMRProperty(){}}class Ep{}function bp(){g.rawWindow._babelPolyfill&&(g.rawWindow._babelPolyfill=!1)}function ws(e,t){const n=Array.from(e.children);n.length&&n.forEach(r=>{ws(r,t)});for(const r of n)Ie(r,t)}function Ie(e,t){var n,r;const o=(r=(n=G.get(t))===null||n===void 0?void 0:n.sandBox)===null||r===void 0?void 0:r.proxyWindow;return gn(e)&&!e.__MICRO_APP_NAME__&&!e.__PURE_ELEMENT__&&o&&vt(e,{baseURI:{configurable:!0,get:()=>o.location.href},__MICRO_APP_NAME__:{configurable:!0,writable:!0,value:t}}),e}function Di(e,t){const n=kt(t)?g.rawWindow.fetch:t;return V(n)?function(o,s,...i){return(ce(o)||or(o))&&(o=ue(o,e).toString()),_e(),n.call(g.rawWindow,o,s,...i)}:n}function Ti(e,t){const n=kt(t)?g.rawWindow.XMLHttpRequest:t;return cs(n)?class extends n{open(o,s,...i){(ce(s)&&!/^f(ile|tp):\/\//.test(s)||or(s))&&(s=ue(s,e).toString()),_e(),super.open(o,s,...i)}}:n}function wp(){let e;function t(r,o,s){const i=kt(s)?g.rawWindow.EventSource:s;return cs(i)?class extends i{constructor(l,a,...u){if((ce(l)||or(l))&&(l=ue(l,o).toString()),_e(),super(l,a,...u),e){const h=e.get(r);h?h.add(this):e.set(r,new Set([this]))}else e=new Map([[r,new Set([this])]])}close(){var l;super.close(),(l=e.get(r))===null||l===void 0||l.delete(this)}}:i}function n(r){const o=e==null?void 0:e.get(r);o!=null&&o.size&&(o.forEach(s=>{s.close()}),o.clear())}return{createMicroEventSource:t,clearMicroEventSource:n}}const{createMicroEventSource:Li,clearMicroEventSource:Ap}=wp();class Zn extends vp{constructor(t,n){super(),this.active=!1,this.microAppWindow=new Ep,this.patchWith(r=>{this.getSpecialProperties(t),this.patchRouter(t,n,this.microAppWindow),this.windowEffect=Zd(t,this.microAppWindow,this),this.documentEffect=Xd(t,this.microAppWindow,this),this.setMappingPropertiesWithRawDescriptor(this.microAppWindow),this.initStaticGlobalKeys(t,n,this.microAppWindow),r()})}start({umdMode:t,baseroute:n,defaultPage:r,disablePatchRequest:o}){this.active||(this.active=!0,this.initRouteState(r),this.removeHistoryListener=Dl(this.microAppWindow.__MICRO_APP_NAME__),bt(this.microAppWindow.__MICRO_APP_NAME__)&&(this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=n),t||this.initGlobalKeysWhenStart(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow,o),++g.activeSandbox===1&&(ql(),Ll()),++Zn.activeCount===1&&Vd(),bp())}stop({umdMode:t,keepRouteState:n,destroy:r,clearData:o}){var s;this.active&&(this.recordAndReleaseEffect({umdMode:t,clearData:o,destroy:r},!t||r),this.clearRouteState(n),(s=this.removeHistoryListener)===null||s===void 0||s.call(this),(!t||r)&&(Ap(this.microAppWindow.__MICRO_APP_NAME__),this.injectedKeys.forEach(i=>{Reflect.deleteProperty(this.microAppWindow,i)}),this.injectedKeys.clear(),this.escapeKeys.forEach(i=>{Reflect.deleteProperty(g.rawWindow,i)}),this.escapeKeys.clear()),--g.activeSandbox===0&&(Vl(),Nl()),--Zn.activeCount,this.active=!1)}initStaticGlobalKeys(t,n,r){r.__MICRO_APP_ENVIRONMENT__=!0,r.__MICRO_APP_NAME__=t,r.__MICRO_APP_URL__=n,r.__MICRO_APP_PUBLIC_PATH__=Vr(n),r.__MICRO_APP_BASE_ROUTE__="",r.__MICRO_APP_WINDOW__=r,r.__MICRO_APP_PRE_RENDER__=!1,r.__MICRO_APP_UMD_MODE__=!1,r.__MICRO_APP_PROXY_WINDOW__=this.proxyWindow,r.__MICRO_APP_SANDBOX__=this,r.__MICRO_APP_SANDBOX_TYPE__="with",r.rawWindow=g.rawWindow,r.rawDocument=g.rawDocument,r.microApp=Ge(new Al(t),{removeDomScope:_e,pureCreateElement:Fe,router:cr})}recordAndReleaseEffect(t,n=!1){n?this.resetEffectSnapshot():this.recordEffectSnapshot(),this.releaseGlobalEffect(t)}resetEffectSnapshot(){this.windowEffect.reset(),this.documentEffect.reset(),_s(this.microAppWindow.microApp)}recordEffectSnapshot(){this.windowEffect.record(),this.documentEffect.record(),yl(this.microAppWindow.microApp)}rebuildEffectSnapshot(){this.windowEffect.rebuild(),this.documentEffect.rebuild(),Pl(this.microAppWindow.microApp)}releaseGlobalEffect({umdMode:t=!1,clearData:n=!1,isPrerender:r=!1,keepAlive:o=!1,destroy:s=!1}){var i,c,l;this.windowEffect.release(!t&&!o&&!r||s),this.documentEffect.release(),(i=this.microAppWindow.microApp)===null||i===void 0||i.clearDataListener(),(c=this.microAppWindow.microApp)===null||c===void 0||c.clearGlobalDataListener(),n&&(K.clearData(this.microAppWindow.__MICRO_APP_NAME__),(l=this.microAppWindow.microApp)===null||l===void 0||l.clearData())}getSpecialProperties(t){var n;pe(K.options.plugins)&&(this.commonActionForSpecialProperties(K.options.plugins.global),this.commonActionForSpecialProperties((n=K.options.plugins.modules)===null||n===void 0?void 0:n[t]))}commonActionForSpecialProperties(t){if(ft(t))for(const n of t)pe(n)&&(ft(n.scopeProperties)&&(this.scopeProperties=this.scopeProperties.concat(n.scopeProperties)),ft(n.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(n.escapeProperties)))}setPreRenderState(t){this.microAppWindow.__MICRO_APP_PRE_RENDER__=t}markUmdMode(t){this.microAppWindow.__MICRO_APP_UMD_MODE__=t}patchWith(t){this.sandboxReady=new Promise(n=>t(n))}setMappingPropertiesWithRawDescriptor(t){let n,r;const o=g.rawWindow;o===o.parent?n=r=this.proxyWindow:(n=o.top,r=o.parent),vt(t,{top:this.createDescriptorForMicroAppWindow("top",n),parent:this.createDescriptorForMicroAppWindow("parent",r)}),fl.forEach(s=>{be(t,s,this.createDescriptorForMicroAppWindow(s,this.proxyWindow))})}createDescriptorForMicroAppWindow(t,n){const{configurable:r=!0,enumerable:o=!0,writable:s,set:i}=Object.getOwnPropertyDescriptor(g.rawWindow,t)||{writable:!0};return{value:n,configurable:r,enumerable:o,writable:s??!!i}}initGlobalKeysWhenStart(t,n,r,o){r.hasOwnProperty=s=>Yt.call(r,s)||Yt.call(g.rawWindow,s),this.setHijackProperty(t,r),o||this.patchRequestApi(t,n,r),this.setScopeProperties(r)}setHijackProperty(t,n){let r,o;vt(n,{eval:{configurable:!0,enumerable:!1,get(){return en(t),r||g.rawWindow.eval},set:s=>{r=s}},Image:{configurable:!0,enumerable:!1,get(){return en(t),o||g.ImageProxy},set:s=>{o=s}}})}patchRequestApi(t,n,r){let o=Di(n),s=Ti(n),i=Li(t,n);vt(r,{fetch:{configurable:!0,enumerable:!0,get(){return o},set(c){o=Di(n,c)}},XMLHttpRequest:{configurable:!0,enumerable:!0,get(){return s},set(c){s=Ti(n,c)}},EventSource:{configurable:!0,enumerable:!0,get(){return i},set(c){i=Li(t,n,c)}}})}setScopeProperties(t){this.scopeProperties.forEach(n=>{Reflect.set(t,n,t[n])})}patchRouter(t,n,r){const{microLocation:o,microHistory:s}=gp(t,n);vt(r,{location:{configurable:!1,enumerable:!0,get(){return o},set:i=>{g.rawWindow.location=i}},history:{configurable:!0,enumerable:!0,get(){return s}}})}initRouteState(t){Fl(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location,t)}clearRouteState(t){Hl(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow.location,t)}setRouteInfoForKeepAliveApp(){bs(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location)}removeRouteInfoForKeepAliveApp(){Zr(this.microAppWindow.__MICRO_APP_NAME__)}patchStaticElement(t){ws(t,this.microAppWindow.__MICRO_APP_NAME__)}actionBeforeExecScripts(t){this.patchStaticElement(t)}setStaticAppState(t){this.microAppWindow.__MICRO_APP_STATE__=t}}Zn.activeCount=0;function yp(e,t,n,r){const o=g.rawWindow.history,s=ue(t),i=s.protocol+"//"+s.host,c=s.pathname+s.search+s.hash,l=n.history;return n.rawReplaceState=l.replaceState,Ge(l,Tl(e,n.location)),vt(l,{scrollRestoration:{configurable:!0,enumerable:!0,get(){return o.scrollRestoration},set(a){o.scrollRestoration=a}}}),wn(e,c,n.location,"prevent"),Bl(e,t,n,s,r,i)}const Pp=["getComputedStyle","visualViewport","matchMedia","ResizeObserver","IntersectionObserver"],Rp=[/animationFrame$/i,/mutationObserver$/i,/height$|width$/i,/offset$/i,/selection$/i,/^range/i,/^screen/i,/^scroll/i,/X$|Y$/],Sp=["body","head","html","title"],Mp=["childElementCount","children","firstElementChild","firstChild","lastElementChild","activeElement","fullscreenElement","pictureInPictureElement","pointerLockElement","styleSheets"],Op=["append","contains","replaceChildren","createRange","getSelection","elementFromPoint","elementsFromPoint","getAnimations"],Cp=["characterSet","compatMode","contentType","designMode","dir","doctype","embeds","fullscreenEnabled","hidden","implementation","lastModified","pictureInPictureEnabled","plugins","readyState","referrer","visibilityState","fonts"],xp=["execCommand","createRange","exitFullscreen","exitPictureInPicture","getElementsByTagNameNS","hasFocus","prepend"];function Ip(e,t,n){return Dp(e,t),Tp(t,n),Lp(t)}function Dp(e,t){const n=g.rawWindow;Pp.forEach(r=>{t[r]=qe(n[r],n)}),Object.getOwnPropertyNames(t).filter(r=>(Rp.some(o=>{if(o.test(r)&&r in t.parent){if(V(n[r]))t[r]=qe(n[r],n);else{const{configurable:s,enumerable:i}=Object.getOwnPropertyDescriptor(t,r)||{configurable:!0,enumerable:!0};s&&be(t,r,{configurable:s,enumerable:i,get:()=>n[r],set:c=>{n[r]=c}})}return!0}return!1}),/^on/.test(r)&&!yd.includes(r))).forEach(r=>{const{enumerable:o,writable:s,set:i}=Object.getOwnPropertyDescriptor(t,r)||{enumerable:!0,writable:!0};try{be(t,r,{enumerable:o,configurable:!0,get:()=>n[r],set:s??!!i?c=>{n[r]=V(c)?c.bind(t):c}:void 0})}catch(c){Kt(c,e)}})}function Tp(e,t){const n=g.rawWindow,r=new Set,o=new Proxy(e,{get:(s,i)=>i==="location"?t.proxyLocation:je(fl,i)?o:r.has(i)?Reflect.get(s,i):je(t.escapeProperties,i)&&!Reflect.has(s,i)?qe(Reflect.get(n,i),n):qe(Reflect.get(s,i),s),set:(s,i,c)=>i==="location"?Reflect.set(n,i,c):(Reflect.has(s,i)||r.add(i),Reflect.set(s,i,c),je(t.escapeProperties,i)&&(!Reflect.has(n,i)&&t.escapeKeys.add(i),Reflect.set(n,i,c)),!0),has:(s,i)=>i in s,deleteProperty:(s,i)=>Reflect.has(s,i)?(t.escapeKeys.has(i)&&Reflect.deleteProperty(n,i),Reflect.deleteProperty(s,i)):!0});t.proxyWindow=o}function Lp(e){const{rawWindow:t,rawAddEventListener:n,rawRemoveEventListener:r}=g,o=new Map,s=new Map;function i(h){return wd.includes(h)?e:t}e.addEventListener=function(h,m,v){const I=o.get(h);I?I.add(m):o.set(h,new Set([m])),m&&(m.__MICRO_APP_MARK_OPTIONS__=v),n.call(i(h),h,m,v)},e.removeEventListener=function(h,m,v){const I=o.get(h);I!=null&&I.size&&I.has(m)&&I.delete(m),r.call(i(h),h,m,v)};const c=()=>{s.clear()};return{reset:c,record:()=>{o.forEach((h,m)=>{if(h.size){const v=s.get(m)||[];s.set(m,new Set([...v,...h]))}})},rebuild:()=>{s.forEach((h,m)=>{for(const v of h)e.addEventListener(m,v,v==null?void 0:v.__MICRO_APP_MARK_OPTIONS__)}),c()},release:()=>{o.size&&(o.forEach((h,m)=>{for(const v of h)r.call(i(m),m,v)}),o.clear())}}}function Np(e,t,n){return Up(e,t),Bp(e,t,n),Fp(e,t)}function Up(e,t){const n=g.rawDocument,r=t.Document,o=t.document,s=r.prototype.createElement,i=r.prototype.createElementNS,c=r.prototype.createTextNode,l=r.prototype.createDocumentFragment,a=r.prototype.createComment,u=r.prototype.querySelector,h=r.prototype.querySelectorAll,m=r.prototype.getElementById,v=r.prototype.getElementsByClassName,I=r.prototype.getElementsByTagName,P=r.prototype.getElementsByName,T=r.prototype.elementFromPoint,y=r.prototype.caretRangeFromPoint;r.prototype.caretRangeFromPoint=function(_,E){const x=T.call(n,_,E),Y=y.call(n,_,E);return Ie(x,e),Y},r.prototype.createElement=function(_,E){const x=s.call(this,_,E);return Ie(x,e)},r.prototype.createElementNS=function(_,E,x){const Y=i.call(this,_,E,x);return Ie(Y,e)},r.prototype.createTextNode=function(_){const E=c.call(this,_);return Ie(E,e)},r.prototype.createDocumentFragment=function(){const _=l.call(this);return Ie(_,e)},r.prototype.createComment=function(_){const E=a.call(this,_);return Ie(E,e)};function w(C){return o!==C?C:n}function p(C){var _,E;if(!C||hn(C)||o!==this){const x=w(this);return u.call(x,C)}return(E=(_=G.get(e))===null||_===void 0?void 0:_.querySelector(C))!==null&&E!==void 0?E:null}function A(C){var _,E;if(!C||hn(C)||o!==this){const x=w(this);return h.call(x,C)}return(E=(_=G.get(e))===null||_===void 0?void 0:_.querySelectorAll(C))!==null&&E!==void 0?E:[]}r.prototype.querySelector=p,r.prototype.querySelectorAll=A,r.prototype.getElementById=function(_){const E=w(this);if(Ut(_))return m.call(E,_);try{return p.call(this,`#${_}`)}catch{return m.call(E,_)}},r.prototype.getElementsByClassName=function(_){const E=w(this);if(Ut(_))return v.call(E,_);try{return A.call(this,`.${_}`)}catch{return v.call(E,_)}},r.prototype.getElementsByTagName=function(_){const E=w(this);if(hn(_)||Ut(_))return I.call(E,_);if(/^script|base$/i.test(_))return I.call(o,_);try{return A.call(this,_)}catch{return I.call(E,_)}},r.prototype.getElementsByName=function(_){const E=w(this);if(Ut(_))return P.call(E,_);try{return A.call(this,`[name=${_}]`)}catch{return P.call(E,_)}}}function Bp(e,t,n){const r=g.rawDocument,o=t.Document,s=t.document,i=(l,a)=>{const{enumerable:u}=Object.getOwnPropertyDescriptor(o.prototype,l)||{enumerable:!0};return{configurable:!0,enumerable:u,get:a}},c=()=>{const l={};return[["documentURI",()=>n.proxyLocation.href],["URL",()=>n.proxyLocation.href],["documentElement",()=>r.documentElement],["scrollingElement",()=>r.scrollingElement],["forms",()=>o.prototype.querySelectorAll.call(s,"form")],["images",()=>o.prototype.querySelectorAll.call(s,"img")],["links",()=>o.prototype.querySelectorAll.call(s,"a")],["microAppElement",()=>{var u;return(u=G.get(e))===null||u===void 0?void 0:u.container}],["__MICRO_APP_NAME__",()=>e]].forEach(u=>{l[u[0]]=i(u[0],u[1])}),Mp.forEach(u=>{l[u]=i(u,()=>r[u])}),Op.forEach(u=>{l[u]=i(u,()=>qe(r[u],r,"DOCUMENT"))}),Cp.forEach(u=>{l[u]=i(u,()=>r[u])}),xp.forEach(u=>{l[u]=i(u,()=>qe(r[u],r,"DOCUMENT"))}),l};vt(o.prototype,c()),Sp.forEach(l=>{be(s,l,{enumerable:!0,configurable:!0,get:()=>(en(e),r[l]),set:a=>{r[l]=a}})})}function Fp(e,t){const{rawDocument:n,rawAddEventListener:r,rawRemoveEventListener:o}=g,s=new Map,i=new Map;let c=null,l=null;const a=t.Document,u=t.document;function h(y,w){return Pd.includes(y)?w:n}a.prototype.addEventListener=function(y,w,p){const A=V(w)?w.__MICRO_APP_BOUND_FUNCTION__=w.__MICRO_APP_BOUND_FUNCTION__||w.bind(this):w,C=s.get(y);C?C.add(w):s.set(y,new Set([w])),w&&(w.__MICRO_APP_MARK_OPTIONS__=p),r.call(h(y,this),y,A,p)},a.prototype.removeEventListener=function(y,w,p){const A=s.get(y);A!=null&&A.size&&A.has(w)&&A.delete(w);const C=(w==null?void 0:w.__MICRO_APP_BOUND_FUNCTION__)||w;o.call(h(y,this),y,C,p)};function m(y){return y==="onclick"?w=>{V(c)&&o.call(n,"click",c,!1),V(w)?(c=w.bind(u),r.call(n,"click",c,!1)):c=w}:w=>{n[y]=V(w)?w.bind(u):w}}Object.getOwnPropertyNames(a.prototype).filter(y=>/^on/.test(y)&&!Rd.includes(y)).forEach(y=>{const{enumerable:w,writable:p,set:A}=Object.getOwnPropertyDescriptor(a.prototype,y)||{enumerable:!0,writable:!0};try{be(a.prototype,y,{enumerable:w,configurable:!0,get:()=>y==="onclick"?c:n[y],set:p??!!A?m(y):void 0})}catch(C){Kt(C,e)}});const v=()=>{i.clear(),l=null};return{reset:v,record:()=>{l=c||l,s.forEach((y,w)=>{if(y.size){const p=i.get(w)||[];i.set(w,new Set([...p,...y]))}})},rebuild:()=>{l&&!c&&(u.onclick=l),i.forEach((y,w)=>{for(const p of y)u.addEventListener(w,p,p==null?void 0:p.__MICRO_APP_MARK_OPTIONS__)}),v()},release:()=>{V(c)&&o.call(n,"click",c),c=null,s.size&&(s.forEach((y,w)=>{for(const p of y)o.call(h(w,u),w,(p==null?void 0:p.__MICRO_APP_BOUND_FUNCTION__)||p)}),s.clear())}}}function Hp(e,t,n,r){$p(e,n,r),Wp(t,n)}function $p(e,t,n){const r=g.rawRootElement,o=g.rawDocument,s=t.document,i=t.Node,c=t.Element,l=i.prototype.appendChild,a=i.prototype.insertBefore,u=i.prototype.replaceChild,h=i.prototype.removeChild,m=c.prototype.append,v=c.prototype.prepend,I=c.prototype.insertAdjacentElement,P=i.prototype.cloneNode,T=Object.getOwnPropertyDescriptor(c.prototype,"innerHTML"),y=Object.getOwnPropertyDescriptor(i.prototype,"parentNode"),w=Object.getOwnPropertyDescriptor(i.prototype,"ownerDocument"),p=_=>(fn(_)||ed(_))&&_.__PURE_ELEMENT__,A=_=>_===n.microHead?o.head:_===n.microBody?o.body:_;i.prototype.getRootNode=function(){return s},i.prototype.appendChild=function(E){return Ie(E,e),p(E)?l.call(this,E):r.prototype.appendChild.call(A(this),E)},i.prototype.insertBefore=function(E,x){return Ie(E,e),p(E)?a.call(this,E,x):r.prototype.insertBefore.call(A(this),E,x)},i.prototype.replaceChild=function(E,x){return Ie(E,e),p(E)?u.call(this,E,x):r.prototype.replaceChild.call(A(this),E,x)},i.prototype.removeChild=function(E){return p(E)||this.contains(E)?h.call(this,E):r.prototype.removeChild.call(A(this),E)},c.prototype.append=function(...E){let x=0,Y=!1;for(;x<E.length;)E[x]=gn(E[x])?E[x]:s.createTextNode(E[x]),p(E[x])&&(Y=!0),x++;return Y?m.call(this,...E):r.prototype.append.call(A(this),...E)},c.prototype.prepend=function(...E){let x=0,Y=!1;for(;x<E.length;)E[x]=gn(E[x])?E[x]:s.createTextNode(E[x]),p(E[x])&&(Y=!0),x++;return Y?v.call(this,...E):r.prototype.prepend.call(A(this),...E)},c.prototype.insertAdjacentElement=function(E,x){return Ie(x,e),p(x)?I.call(this,E,x):r.prototype.insertAdjacentElement.call(A(this),E,x)},i.prototype.cloneNode=function(E){const x=P.call(this,E);return Ie(x,e)},be(i.prototype,"ownerDocument",{configurable:!0,enumerable:!0,get(){return this.__PURE_ELEMENT__||this===s?w.get.call(this):s}}),be(c.prototype,"innerHTML",{configurable:!0,enumerable:!0,get(){return T.get.call(this)},set(_){T.set.call(this,_),Array.from(this.children).forEach(E=>{Ht(E)&&Ie(E,e)})}}),be(i.prototype,"parentNode",{configurable:!0,enumerable:!0,get(){var _,E,x;en(e);const Y=y.get.call(this);return Do(Y)&&(!((_=G.get(e))===null||_===void 0)&&_.container)?((x=(E=K.options).getRootElementParentNode)===null||x===void 0?void 0:x.call(E,this,e))||g.rawDocument.body:Y}});const C=new Proxy(t.Image,{construct(_,E){const x=new _(...E);return Ie(x,e),x}});be(t,"Image",{configurable:!0,writable:!0,value:C})}function Wp(e,t){const n=t.Element,r=n.prototype.setAttribute;n.prototype.setAttribute=function(i,c){((i==="src"||i==="srcset")&&/^(img|script)$/i.test(this.tagName)||i==="href"&&/^link$/i.test(this.tagName))&&(c=Be(c,e)),r.call(this,i,c)},[[t.HTMLImageElement.prototype,"src"],[t.HTMLScriptElement.prototype,"src"],[t.HTMLLinkElement.prototype,"href"]].forEach(([s,i])=>{const{enumerable:c,configurable:l,get:a,set:u}=Object.getOwnPropertyDescriptor(s,i)||{enumerable:!0,configurable:!0};be(s,i,{enumerable:c,configurable:l,get:function(){return a==null?void 0:a.call(this)},set:function(h){u==null||u.call(this,Be(h,e))}})})}class kn{constructor(t,n){this.active=!1,this.escapeProperties=[],this.escapeKeys=new Set,this.updateIframeBase=()=>{var s;(s=this.baseElement)===null||s===void 0||s.setAttribute("href",ue(this.url).origin+this.proxyLocation.pathname)},this.appName=t,this.url=n;const r=g.rawWindow.location,o=r.protocol+"//"+r.host;this.deleteIframeElement=this.createIframeElement(t,o+r.pathname),this.microAppWindow=this.iframe.contentWindow,this.patchIframe(this.microAppWindow,s=>{this.createIframeTemplate(this.microAppWindow),this.getSpecialProperties(t),this.proxyLocation=yp(t,n,this.microAppWindow,o),this.windowEffect=Ip(t,this.microAppWindow,this),this.documentEffect=Np(t,this.microAppWindow,this),Hp(t,n,this.microAppWindow,this),this.initStaticGlobalKeys(t,n,this.microAppWindow),s()})}createIframeElement(t,n){this.iframe=Fe("iframe");const r={src:K.options.iframeSrc||n,style:"display: none",id:t};return Object.keys(r).forEach(o=>this.iframe.setAttribute(o,r[o])),g.rawDocument.body.appendChild(this.iframe),()=>tt(()=>{var o,s;(s=(o=this.iframe)===null||o===void 0?void 0:o.parentNode)===null||s===void 0||s.removeChild(this.iframe),this.iframe=null})}start({baseroute:t,defaultPage:n,disablePatchRequest:r}){this.active||(this.active=!0,this.initRouteState(n),this.removeHistoryListener=Dl(this.microAppWindow.__MICRO_APP_NAME__),bt(this.microAppWindow.__MICRO_APP_NAME__)&&(this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=t),r||this.createIframeBase(),++g.activeSandbox===1&&(ql(),Ll()),++kn.activeCount)}stop({umdMode:t,keepRouteState:n,destroy:r,clearData:o}){var s;this.active&&(this.recordAndReleaseEffect({clearData:o},!t||r),this.clearRouteState(n),(s=this.removeHistoryListener)===null||s===void 0||s.call(this),(!t||r)&&(this.deleteIframeElement(),this.escapeKeys.forEach(i=>{Reflect.deleteProperty(g.rawWindow,i)}),this.escapeKeys.clear()),--g.activeSandbox===0&&(Vl(),Nl()),--kn.activeCount,this.active=!1)}initStaticGlobalKeys(t,n,r){r.__MICRO_APP_ENVIRONMENT__=!0,r.__MICRO_APP_NAME__=t,r.__MICRO_APP_URL__=n,r.__MICRO_APP_PUBLIC_PATH__=Vr(n),r.__MICRO_APP_BASE_ROUTE__="",r.__MICRO_APP_WINDOW__=r,r.__MICRO_APP_PRE_RENDER__=!1,r.__MICRO_APP_UMD_MODE__=!1,r.__MICRO_APP_PROXY_WINDOW__=this.proxyWindow,r.__MICRO_APP_SANDBOX__=this,r.__MICRO_APP_SANDBOX_TYPE__="iframe",r.rawWindow=g.rawWindow,r.rawDocument=g.rawDocument,r.microApp=Ge(new Al(t),{removeDomScope:_e,pureCreateElement:Fe,location:this.proxyLocation,router:cr})}recordAndReleaseEffect(t,n=!1){n?this.resetEffectSnapshot():this.recordEffectSnapshot(),this.releaseGlobalEffect(t)}resetEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.reset(),(n=this.documentEffect)===null||n===void 0||n.reset(),_s(this.microAppWindow.microApp)}recordEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.record(),(n=this.documentEffect)===null||n===void 0||n.record(),yl(this.microAppWindow.microApp)}rebuildEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.rebuild(),(n=this.documentEffect)===null||n===void 0||n.rebuild(),Pl(this.microAppWindow.microApp)}releaseGlobalEffect({clearData:t=!1}){var n,r,o,s,i;(n=this.windowEffect)===null||n===void 0||n.release(),(r=this.documentEffect)===null||r===void 0||r.release(),(o=this.microAppWindow.microApp)===null||o===void 0||o.clearDataListener(),(s=this.microAppWindow.microApp)===null||s===void 0||s.clearGlobalDataListener(),t&&(K.clearData(this.microAppWindow.__MICRO_APP_NAME__),(i=this.microAppWindow.microApp)===null||i===void 0||i.clearData())}setPreRenderState(t){this.microAppWindow.__MICRO_APP_PRE_RENDER__=t}markUmdMode(t){this.microAppWindow.__MICRO_APP_UMD_MODE__=t}patchIframe(t,n){const r=t.document;this.sandboxReady=new Promise(o=>{(function s(){setTimeout(()=>{try{t.document===r?s():(t.stop(),n(o))}catch{s()}},0)})()})}createIframeTemplate(t){const n=t.document;cd(n);const r=n.createElement("html");r.innerHTML="<head></head><body></body>",n.appendChild(r),this.microBody=n.body,this.microHead=n.head}createIframeBase(){this.baseElement=Fe("base"),this.updateIframeBase(),this.microHead.appendChild(this.baseElement)}getSpecialProperties(t){var n;pe(K.options.plugins)&&(this.commonActionForSpecialProperties(K.options.plugins.global),this.commonActionForSpecialProperties((n=K.options.plugins.modules)===null||n===void 0?void 0:n[t]))}commonActionForSpecialProperties(t){if(ft(t))for(const n of t)pe(n)&&ft(n.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(n.escapeProperties))}initRouteState(t){Fl(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location,t)}clearRouteState(t){Hl(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow.location,t)}setRouteInfoForKeepAliveApp(){bs(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location)}removeRouteInfoForKeepAliveApp(){Zr(this.microAppWindow.__MICRO_APP_NAME__)}patchStaticElement(t){ws(t,this.microAppWindow.__MICRO_APP_NAME__)}actionBeforeExecScripts(t){this.patchStaticElement(t)}setStaticAppState(t){this.microAppWindow.__MICRO_APP_STATE__=t}}kn.activeCount=0;const G=new Map;class $l{constructor({name:t,url:n,container:r,scopecss:o,useSandbox:s,inline:i,iframe:c,ssrUrl:l,isPrefetch:a,prefetchLevel:u,routerMode:h}){this.state=ve.CREATED,this.keepAliveState=null,this.loadSourceLevel=0,this.umdHookMount=null,this.umdHookUnmount=null,this.lifeCycleState=null,this.umdMode=!1,this.sandBox=null,this.fiber=!1,G.set(t,this),this.name=t,this.url=n,this.useSandbox=s,this.scopecss=this.useSandbox&&o,this.iframe=c??!1,this.inline=this.getInlineModeState(i),this.routerMode=h||Yn,this.container=r??null,this.ssrUrl=l??"",this.isPrefetch=a??!1,this.isPrerender=u===3,this.prefetchLevel=u,this.source={html:null,links:new Set,scripts:new Set},this.loadSourceCode(),this.createSandbox()}loadSourceCode(){this.setAppState(ve.LOADING),fs.getInstance().run(this,Kd)}onLoad({html:t,defaultPage:n,routerMode:r,baseroute:o,disablePatchRequest:s}){var i;if(++this.loadSourceLevel===2){if(this.source.html=t,!this.isPrefetch&&!this.isUnmounted())yt(this.container).mount(this);else if(this.isPrerender){const c=Fe("div");c.setAttribute("prerender","true"),(i=this.sandBox)===null||i===void 0||i.setPreRenderState(!0),this.mount({container:c,inline:this.inline,fiber:!0,defaultPage:n||"",disablePatchRequest:s??!1,routerMode:r,baseroute:o||""})}}}onLoadError(t){this.loadSourceLevel=-1,this.isUnmounted()||(this.onerror(t),this.setAppState(ve.LOAD_FAILED))}mount({container:t,inline:n,routerMode:r,defaultPage:o,baseroute:s,disablePatchRequest:i,fiber:c}){if(this.loadSourceLevel!==2)return this.container=t,this.isPrerender=!1,lt(this,"statechange",{appState:ve.LOADING}),this.setAppState(ve.LOADING);this.createSandbox(),this.setAppState(ve.BEFORE_MOUNT);const l=()=>{var a,u,h,m,v,I,P;if(this.isPrerender&&Zh(this.container)&&this.container.hasAttribute("prerender"))this.container=this.cloneContainer(t,this.container,!1),(a=this.sandBox)===null||a===void 0||a.rebuildEffectSnapshot(),(u=this.preRenderEvents)===null||u===void 0||u.forEach(T=>T()),this.isPrerender=!1,this.preRenderEvents=null,cr.attachToURL(this.name),(h=this.sandBox)===null||h===void 0||h.setPreRenderState(!1);else{this.container=t,this.inline=this.getInlineModeState(n),this.fiber=c,this.routerMode=r;const T=()=>{this.setLifeCycleState(ee.BEFOREMOUNT),Dt(this.container,this.name,ee.BEFOREMOUNT)};if(this.isPrerender?((m=this.preRenderEvents)!==null&&m!==void 0?m:this.preRenderEvents=[]).push(T):T(),this.setAppState(ve.MOUNTING),lt(this,"statechange",{appState:ve.MOUNTING}),this.cloneContainer(this.container,this.source.html,!this.umdMode),(v=this.sandBox)===null||v===void 0||v.start({umdMode:this.umdMode,baseroute:s,defaultPage:o,disablePatchRequest:i}),!this.umdMode)(I=this.sandBox)===null||I===void 0||I.actionBeforeExecScripts(this.container),Nd(this,y=>{if(!this.umdMode){const{mount:w,unmount:p}=this.getUmdLibraryHooks();if(this.umdHookUnmount=p,V(w)&&V(p)){this.umdHookMount=w,this.sandBox.markUmdMode(this.umdMode=!0);try{this.handleMounted(this.umdHookMount(K.getData(this.name,!0)))}catch(A){J(`An error occurred in window.mount 
`,this.name,A)}}else y===!0&&this.handleMounted()}});else{(P=this.sandBox)===null||P===void 0||P.rebuildEffectSnapshot();try{this.handleMounted(this.umdHookMount(K.getData(this.name,!0)))}catch(y){J(`An error occurred in window.mount 
`,this.name,y)}}}};this.sandBox?this.sandBox.sandboxReady.then(l):l()}handleMounted(t){var n,r;const o=()=>{Io(t)?t.then(()=>this.dispatchMountedEvent()).catch(s=>{J(`An error occurred in window.mount 
`,this.name,s),this.dispatchMountedEvent()}):this.dispatchMountedEvent()};this.isPrerender?((n=this.preRenderEvents)===null||n===void 0||n.push(o),(r=this.sandBox)===null||r===void 0||r.recordAndReleaseEffect({isPrerender:!0})):o()}dispatchMountedEvent(){var t;this.isUnmounted()||(this.setAppState(ve.MOUNTED),Pi(this.getMicroAppGlobalHook(sn.ONMOUNT),this.name,sn.ONMOUNT,K.getData(this.name,!0)),lt(this,"statechange",{appState:ve.MOUNTED}),lt(this,"mounted"),this.setLifeCycleState(ee.MOUNTED),Dt(this.container,this.name,ee.MOUNTED),this.isHidden()&&((t=this.sandBox)===null||t===void 0||t.recordAndReleaseEffect({keepAlive:!0})))}unmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o}){var s;t=t||this.state===ve.LOAD_FAILED,this.setAppState(ve.UNMOUNT);let i=null;try{i=(s=this.umdHookUnmount)===null||s===void 0?void 0:s.call(this,K.getData(this.name,!0))}catch(c){J(`An error occurred in window.unmount 
`,this.name,c)}lt(this,"statechange",{appState:ve.UNMOUNT}),lt(this,"unmount"),Pi(this.getMicroAppGlobalHook(sn.ONUNMOUNT),this.name,sn.ONUNMOUNT),this.handleUnmounted({destroy:t,clearData:n,keepRouteState:r,unmountcb:o,umdHookUnmountResult:i})}handleUnmounted({destroy:t,clearData:n,keepRouteState:r,unmountcb:o,umdHookUnmountResult:s}){const i=()=>this.actionsForUnmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o});Io(s)?(_e(),s.then(i).catch(i)):i()}actionsForUnmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o}){var s;this.umdMode&&this.container&&!t&&this.cloneContainer(this.source.html,this.container,!1),(s=this.sandBox)===null||s===void 0||s.stop({umdMode:this.umdMode,keepRouteState:r&&!t,destroy:t,clearData:n||t}),this.setLifeCycleState(ee.UNMOUNT),Dt(this.container,this.name,ee.UNMOUNT),this.clearOptions(t),o==null||o()}clearOptions(t){this.container.innerHTML="",this.container=null,this.isPrerender=!1,this.preRenderEvents=null,this.setKeepAliveState(null),this.iframe&&!this.umdMode&&(this.sandBox=null),t&&this.actionsForCompletelyDestroy(),_e()}actionsForCompletelyDestroy(){var t,n;(n=(t=this.sandBox)===null||t===void 0?void 0:t.deleteIframeElement)===null||n===void 0||n.call(t),He.script.deleteInlineInfo(this.source.scripts),G.delete(this.name)}hiddenKeepAliveApp(t){var n,r;this.setKeepAliveState(Bn.KEEP_ALIVE_HIDDEN),lt(this,"appstate-change",{appState:"afterhidden"}),this.setLifeCycleState(ee.AFTERHIDDEN),Dt(this.container,this.name,ee.AFTERHIDDEN),De(this.name)&&((n=this.sandBox)===null||n===void 0||n.removeRouteInfoForKeepAliveApp()),this.loadSourceLevel!==2?yt(this.container).unmount():(this.container=this.cloneContainer(Fe("div"),this.container,!1),(r=this.sandBox)===null||r===void 0||r.recordAndReleaseEffect({keepAlive:!0})),t==null||t()}showKeepAliveApp(t){var n,r;const o=this.container;this.container=t,(n=this.sandBox)===null||n===void 0||n.rebuildEffectSnapshot(),lt(this,"appstate-change",{appState:"beforeshow"}),Dt(t,this.name,ee.BEFORESHOW),this.setKeepAliveState(Bn.KEEP_ALIVE_SHOW),this.cloneContainer(this.container,o,!1),De(this.name)&&((r=this.sandBox)===null||r===void 0||r.setRouteInfoForKeepAliveApp()),lt(this,"appstate-change",{appState:"aftershow"}),this.setLifeCycleState(ee.AFTERSHOW),Dt(this.container,this.name,ee.AFTERSHOW)}onerror(t){this.setLifeCycleState(ee.ERROR),lt(this,"statechange",{appState:ve.LOAD_FAILED}),Dt(this.container,this.name,ee.ERROR,t)}parseHtmlString(t){var n;const r=!((n=this.sandBox)===null||n===void 0)&&n.proxyWindow?this.sandBox.proxyWindow.DOMParser:g.rawWindow.DOMParser;return new r().parseFromString(t,"text/html").body}cloneContainer(t,n,r){return n&&t&&(t.innerHTML="",Array.from(r?this.parseHtmlString(n.innerHTML).childNodes:n.childNodes).forEach(o=>{t.appendChild(o)})),t}createSandbox(){this.useSandbox&&!this.sandBox&&(this.sandBox=this.iframe?new kn(this.name,this.url):new Zn(this.name,this.url))}setAppState(t){var n;this.state=t,(n=this.sandBox)===null||n===void 0||n.setStaticAppState(t)}getAppState(){return this.state}setLifeCycleState(t){this.lifeCycleState=t}getLifeCycleState(){return this.lifeCycleState||""}setKeepAliveState(t){this.keepAliveState=t}getKeepAliveState(){return this.keepAliveState}isUnmounted(){return ve.UNMOUNT===this.state}isHidden(){return Bn.KEEP_ALIVE_HIDDEN===this.keepAliveState}getUmdLibraryHooks(){if(!this.isUnmounted()&&this.sandBox){const t=yt(this.container).getAttribute("library")||`micro-app-${this.name}`,n=this.sandBox.proxyWindow;return Jc(n[t])?n[t]:{mount:n.mount,unmount:n.unmount}}return{}}getMicroAppGlobalHook(t){var n,r;const o=(r=(n=this.sandBox)===null||n===void 0?void 0:n.proxyWindow)===null||r===void 0?void 0:r[t];return V(o)?o:null}querySelector(t){return this.container?g.rawElementQuerySelector.call(this.container,t):null}querySelectorAll(t){return this.container?g.rawElementQuerySelectorAll.call(this.container,t):[]}getInlineModeState(t){var n;return(n=this.iframe||t)!==null&&n!==void 0?n:!1}}function lr(e){var t,n;return(n=(t=G.get(e))===null||t===void 0?void 0:t.iframe)!==null&&n!==void 0?n:!1}const mt=new WeakMap;function Wl(e){var t;return(t=mt.get(e))!==null&&t!==void 0?t:e}function jl(e,t){if(mt.has(e))return mt.get(e);if(ls(e)){if(e.hasAttribute("exclude")){const n=document.createComment("style element with exclude attribute ignored by micro-app");return mt.set(e,n),n}else if(t.scopecss&&!e.hasAttribute("ignore"))return hs(e,t);return e}else if(Zc(e)){if(e.hasAttribute("exclude")||ps(e.getAttribute("href"),t.name)){const s=document.createComment("link element with exclude attribute ignored by micro-app");return mt.set(e,s),s}else if(e.hasAttribute("ignore")||ms(e.getAttribute("href"),t.name)||e.href&&V(K.options.excludeAssetFilter)&&K.options.excludeAssetFilter(e.href))return e;const{address:n,linkInfo:r,replaceComment:o}=ol(e,null,t,!0);if(n&&r){const s=vd(n,t,r,e);return mt.set(e,s),s}else if(o)return mt.set(e,o),o;return e}else if(fn(e)){if(e.src&&V(K.options.excludeAssetFilter)&&K.options.excludeAssetFilter(e.src))return e;const{replaceComment:n,address:r,scriptInfo:o}=gl(e,null,t,!0)||{};if(r&&o){const s=o.isExternal?Ud(r,t,o,e):Bd(r,t,o);return mt.set(e,s),s}else if(n)return mt.set(e,n),n;return e}return e}function Kl(e,t,n,r,o){const s=Gl(n,r,e);if(s){if(!lr(e.name)&&Do(s)&&t!==g.rawRemoveChild){const i=Object.getOwnPropertyDescriptor(r,"parentNode");(!i||i.configurable)&&!r.__MICRO_APP_HAS_DPN__&&vt(r,{parentNode:{configurable:!0,get(){var c,l;const a=g.rawParentNodeDesc.get.call(this);return Do(a)&&e.container?((l=(c=K.options).getRootElementParentNode)===null||l===void 0?void 0:l.call(c,this,e.name))||document.body:a}},__MICRO_APP_HAS_DPN__:{configurable:!0,get:()=>!0}})}if(o&&!s.contains(o)){if(t===g.rawInsertBefore&&n.contains(o)){const i=Array.from(n.childNodes).indexOf(o);if(s.childNodes[i])return fo(t,s,r,s.childNodes[i])}return g.rawAppendChild.call(s,r)}else if(t===g.rawRemoveChild&&!s.contains(r))return n.contains(r)?t.call(n,r):r;return fo(t,s,r,o)}return fo(t,n,r,o)}function Gl(e,t,n){if(n){if(e===document.head)return n.iframe&&fn(t)?n.sandBox.microHead:n.querySelector("micro-app-head");if(e===document.body||e===document.body.parentNode)return n.iframe&&fn(t)?n.sandBox.microBody:n.querySelector("micro-app-body");if(n.iframe&&fn(t))return n.sandBox.microBody}return null}function fo(e,t,n,r){return jp(e)?e.call(t,n):e.call(t,n,r)}function jp(e){return e===g.rawAppend||e===g.rawPrepend}function Kp(e,t){Ht(t)&&(/^(img|script)$/i.test(t.tagName)?(t.hasAttribute("src")&&g.rawSetAttribute.call(t,"src",Be(t.getAttribute("src"),e.url)),t.hasAttribute("srcset")&&g.rawSetAttribute.call(t,"srcset",Be(t.getAttribute("srcset"),e.url))):/^link$/i.test(t.tagName)&&t.hasAttribute("href")&&g.rawSetAttribute.call(t,"href",Be(t.getAttribute("href"),e.url)))}function Rn(e,t,n,r){const o=Ue();if(gn(t)&&!t.__PURE_ELEMENT__&&(t.__MICRO_APP_NAME__||o)){t.__MICRO_APP_NAME__=t.__MICRO_APP_NAME__||o;const s=G.get(t.__MICRO_APP_NAME__);if(ls(t)&&e.getRootNode()instanceof ShadowRoot&&t.setAttribute("ignore","true"),s!=null&&s.container)return Kp(s,t),Kl(s,r,e,jl(t,s),n&&Wl(n))}return r===g.rawAppend||r===g.rawPrepend?r.call(e,t):r.call(e,t,n)}function ql(){Gp();const e=g.rawRootElement,t=g.rawRootNode;e.prototype.appendChild=function(o){return Rn(this,o,null,g.rawAppendChild)},e.prototype.insertBefore=function(o,s){return Rn(this,o,s,g.rawInsertBefore)},e.prototype.replaceChild=function(o,s){return Rn(this,o,s,g.rawReplaceChild)},e.prototype.append=function(...o){let s=0;for(;s<o.length;){let i=o[s];i=gn(i)?i:g.rawCreateTextNode.call(g.rawDocument,i),Rn(this,cn(i),null,g.rawAppend),s++}},e.prototype.prepend=function(...o){let s=o.length;for(;s>0;){let i=o[s-1];i=gn(i)?i:g.rawCreateTextNode.call(g.rawDocument,i),Rn(this,cn(i),null,g.rawPrepend),s--}},e.prototype.removeChild=function(o){if(o!=null&&o.__MICRO_APP_NAME__){const s=G.get(o.__MICRO_APP_NAME__);if(s!=null&&s.container)return Kl(s,g.rawRemoveChild,this,Wl(o));try{return g.rawRemoveChild.call(this,o)}catch{return(o==null?void 0:o.parentNode)&&g.rawRemoveChild.call(o.parentNode,o)}}return g.rawRemoveChild.call(this,o)},e.prototype.insertAdjacentElement=function(r,o){var s;if(o!=null&&o.__MICRO_APP_NAME__&&Ht(o)){const i=G.get(o.__MICRO_APP_NAME__);if(i!=null&&i.container){const c=jl(o,i);if(!Ht(c))return o;const l=(s=Gl(this,c,i))!==null&&s!==void 0?s:this;return g.rawInsertAdjacentElement.call(l,r,c)}}return g.rawInsertAdjacentElement.call(this,r,o)},e.prototype.cloneNode=function(o){const s=g.rawCloneNode.call(this,o);return this.__MICRO_APP_NAME__&&(s.__MICRO_APP_NAME__=this.__MICRO_APP_NAME__),s};function n(r){const o=Ue();if((r===document.body||r===document.head)&&o){const s=G.get(o);if(s!=null&&s.container){if(r===document.body)return s.querySelector("micro-app-body");if(r===document.head)return s.querySelector("micro-app-head")}}return r}e.prototype.querySelector=function(o){var s;return g.rawElementQuerySelector.call((s=n(this))!==null&&s!==void 0?s:this,o)},e.prototype.querySelectorAll=function(o){var s;return g.rawElementQuerySelectorAll.call((s=n(this))!==null&&s!==void 0?s:this,o)},e.prototype.setAttribute=function(o,s){const i=this.__MICRO_APP_NAME__||Ue();if(i&&G.has(i)&&((o==="src"||o==="srcset")&&/^(img|script|video|audio|source|embed)$/i.test(this.tagName)||o==="href"&&/^link$/i.test(this.tagName))){const c=G.get(i);s=Be(s,c.url)}g.rawSetAttribute.call(this,o,s)},be(e.prototype,"innerHTML",{configurable:!0,enumerable:!0,get(){return g.rawInnerHTMLDesc.get.call(this)},set(r){g.rawInnerHTMLDesc.set.call(this,r);const o=Ue();Array.from(this.children).forEach(s=>{Ht(s)&&o&&(s.__MICRO_APP_NAME__=o)})}}),be(t.prototype,"parentNode",{configurable:!0,enumerable:!0,get(){var r,o,s;const i=Ue();if(i&&this===g.rawDocument.firstElementChild){const l=(s=(o=(r=G.get(i))===null||r===void 0?void 0:r.sandBox)===null||o===void 0?void 0:o.proxyWindow)===null||s===void 0?void 0:s.document;if(l)return l}return g.rawParentNodeDesc.get.call(this)}})}function cn(e){const t=Ue();return t&&(e.__MICRO_APP_NAME__=t),e}function Gp(){const e=g.rawDocument,t=g.rawRootDocument;function n(s){return td(s)?e:s}t.prototype.createElement=function(i,c){const l=g.rawCreateElement.call(n(this),i,c);return cn(l)},t.prototype.createElementNS=function(i,c,l){const a=g.rawCreateElementNS.call(n(this),i,c,l);return cn(a)},t.prototype.createDocumentFragment=function(){const i=g.rawCreateDocumentFragment.call(n(this));return cn(i)},t.prototype.createComment=function(i){const c=g.rawCreateComment.call(n(this),i);return cn(c)};function r(s){var i,c;const l=n(this),a=Ue();return!a||!s||hn(s)||e!==l?g.rawQuerySelector.call(l,s):(c=(i=G.get(a))===null||i===void 0?void 0:i.querySelector(s))!==null&&c!==void 0?c:null}function o(s){var i,c;const l=n(this),a=Ue();return!a||!s||hn(s)||e!==l?g.rawQuerySelectorAll.call(l,s):(c=(i=G.get(a))===null||i===void 0?void 0:i.querySelectorAll(s))!==null&&c!==void 0?c:[]}t.prototype.querySelector=r,t.prototype.querySelectorAll=o,t.prototype.getElementById=function(i){const c=n(this);if(!Ue()||Ut(i))return g.rawGetElementById.call(c,i);try{return r.call(c,`#${i}`)}catch{return g.rawGetElementById.call(c,i)}},t.prototype.getElementsByClassName=function(i){const c=n(this);if(!Ue()||Ut(i))return g.rawGetElementsByClassName.call(c,i);try{return o.call(c,`.${i}`)}catch{return g.rawGetElementsByClassName.call(c,i)}},t.prototype.getElementsByTagName=function(i){var c;const l=n(this),a=Ue();if(!a||hn(i)||Ut(i)||!(!((c=G.get(a))===null||c===void 0)&&c.inline)&&/^script$/i.test(i))return g.rawGetElementsByTagName.call(l,i);try{return o.call(l,i)}catch{return g.rawGetElementsByTagName.call(l,i)}},t.prototype.getElementsByName=function(i){const c=n(this);if(!Ue()||Ut(i))return g.rawGetElementsByName.call(c,i);try{return o.call(c,`[name=${i}]`)}catch{return g.rawGetElementsByName.call(c,i)}}}function qp(){const e=g.rawRootDocument;e.prototype.createElement=g.rawCreateElement,e.prototype.createElementNS=g.rawCreateElementNS,e.prototype.createDocumentFragment=g.rawCreateDocumentFragment,e.prototype.querySelector=g.rawQuerySelector,e.prototype.querySelectorAll=g.rawQuerySelectorAll,e.prototype.getElementById=g.rawGetElementById,e.prototype.getElementsByClassName=g.rawGetElementsByClassName,e.prototype.getElementsByTagName=g.rawGetElementsByTagName,e.prototype.getElementsByName=g.rawGetElementsByName}function Vl(){_e(),qp();const e=g.rawRootElement,t=g.rawRootNode;e.prototype.appendChild=g.rawAppendChild,e.prototype.insertBefore=g.rawInsertBefore,e.prototype.replaceChild=g.rawReplaceChild,e.prototype.removeChild=g.rawRemoveChild,e.prototype.append=g.rawAppend,e.prototype.prepend=g.rawPrepend,e.prototype.cloneNode=g.rawCloneNode,e.prototype.querySelector=g.rawElementQuerySelector,e.prototype.querySelectorAll=g.rawElementQuerySelectorAll,e.prototype.setAttribute=g.rawSetAttribute,be(e.prototype,"innerHTML",g.rawInnerHTMLDesc),be(t.prototype,"parentNode",g.rawParentNodeDesc)}let Ni=!1;function Vp(){if(!Ni){Ni=!0;const e=Fe("style");g.rawSetAttribute.call(e,"type","text/css"),e.textContent=`
${K.tagName}, micro-app-body { display: block; } 
micro-app-head { display: none; }`,g.rawDocument.head.appendChild(e)}}const g={activeSandbox:0};function Qp(){if(is){const e=window.rawWindow||Function("return window")(),t=window.rawDocument||Function("return document")(),n=e.Document||Function("return Document")(),r=e.Element,o=e.Node,s=e.EventTarget,i=r.prototype.setAttribute,c=r.prototype.appendChild,l=r.prototype.insertBefore,a=r.prototype.replaceChild,u=r.prototype.removeChild,h=r.prototype.append,m=r.prototype.prepend,v=r.prototype.cloneNode,I=r.prototype.querySelector,P=r.prototype.querySelectorAll,T=r.prototype.insertAdjacentElement,y=Object.getOwnPropertyDescriptor(r.prototype,"innerHTML"),w=Object.getOwnPropertyDescriptor(o.prototype,"parentNode"),p=n.prototype.createElement,A=n.prototype.createElementNS,C=n.prototype.createTextNode,_=n.prototype.createDocumentFragment,E=n.prototype.createComment,x=n.prototype.querySelector,Y=n.prototype.querySelectorAll,ye=n.prototype.getElementById,ot=n.prototype.getElementsByClassName,dt=n.prototype.getElementsByTagName,$e=n.prototype.getElementsByName,qt=new Proxy(Image,{construct(Ct,nn){const me=new Ct(...nn),S=Ue();return S&&(me.__MICRO_APP_NAME__=S),me}}),Mt=e.setInterval,de=e.setTimeout,te=e.clearInterval,k=e.clearTimeout,Ve=e.history.pushState,st=e.history.replaceState,We=s.prototype.addEventListener,Pe=s.prototype.removeEventListener,Ot=s.prototype.dispatchEvent;window.__MICRO_APP_BASE_APPLICATION__=!0,Ge(g,{supportModuleScript:rd(),rawWindow:e,rawDocument:t,rawRootDocument:n,rawRootElement:r,rawRootNode:o,rawSetAttribute:i,rawAppendChild:c,rawInsertBefore:l,rawReplaceChild:a,rawRemoveChild:u,rawAppend:h,rawPrepend:m,rawCloneNode:v,rawElementQuerySelector:I,rawElementQuerySelectorAll:P,rawInsertAdjacentElement:T,rawInnerHTMLDesc:y,rawParentNodeDesc:w,rawCreateElement:p,rawCreateElementNS:A,rawCreateDocumentFragment:_,rawCreateTextNode:C,rawCreateComment:E,rawQuerySelector:x,rawQuerySelectorAll:Y,rawGetElementById:ye,rawGetElementsByClassName:ot,rawGetElementsByTagName:dt,rawGetElementsByName:$e,ImageProxy:qt,rawSetInterval:Mt,rawSetTimeout:de,rawClearInterval:te,rawClearTimeout:k,rawPushState:Ve,rawReplaceState:st,rawAddEventListener:We,rawRemoveEventListener:Pe,rawDispatchEvent:Ot}),Vp()}}function zp(e){class t extends ld(){constructor(){super(...arguments),this.isWaiting=!1,this.cacheData=null,this.connectedCount=0,this.connectStateMap=new Map,this.appName="",this.appUrl="",this.ssrUrl="",this.version=Qh,this.handleAttributeUpdate=()=>{this.isWaiting=!1;const r=Ee(this.getAttribute("name")),o=To(this.getAttribute("url"),this.appName);if(this.legalAttribute("name",r)&&this.legalAttribute("url",o)){const s=G.get(r);if(r!==this.appName&&s&&!s.isUnmounted()&&!s.isHidden()&&!s.isPrefetch)return this.setAttribute("name",this.appName),J(`app name conflict, an app named ${r} is running`);(r!==this.appName||o!==this.appUrl)&&(r===this.appName?this.unmount(!0,()=>{this.actionsForAttributeChange(r,o,s)}):this.getKeepAliveModeResult()?(this.handleHiddenKeepAliveApp(),this.actionsForAttributeChange(r,o,s)):this.unmount(!1,()=>{this.actionsForAttributeChange(r,o,s)}))}else r!==this.appName&&this.setAttribute("name",this.appName)}}static get observedAttributes(){return["name","url"]}connectedCallback(){const r=++this.connectedCount;this.connectStateMap.set(r,!0);const o=this.appName&&this.appUrl;tt(()=>{this.connectStateMap.get(r)&&(Dt(this,this.appName,ee.CREATED),o&&this.handleConnected())})}disconnectedCallback(){this.connectStateMap.set(this.connectedCount,!1),this.handleDisconnected()}reload(r){return new Promise(o=>{const s=()=>{this.removeEventListener(ee.MOUNTED,s),this.removeEventListener(ee.AFTERSHOW,s),o(!0)};this.addEventListener(ee.MOUNTED,s),this.addEventListener(ee.AFTERSHOW,s),this.handleDisconnected(r,()=>{this.handleConnected()})})}handleDisconnected(r=!1,o){const s=G.get(this.appName);s&&!s.isUnmounted()&&!s.isHidden()&&(this.getKeepAliveModeResult()&&!r?this.handleHiddenKeepAliveApp(o):this.unmount(r,o))}attributeChangedCallback(r,o,s){if(this.legalAttribute(r,s)&&this[r===Un.NAME?"appName":"appUrl"]!==s)if(r===Un.URL&&(!this.appUrl||!this.connectStateMap.get(this.connectedCount))){if(s=To(s,this.appName),!s)return J(`Invalid attribute url ${s}`,this.appName);this.appUrl=s,this.handleInitialNameAndUrl()}else if(r===Un.NAME&&(!this.appName||!this.connectStateMap.get(this.connectedCount))){const i=Ee(s);if(!i)return J(`Invalid attribute name ${s}`,this.appName);this.cacheData&&(K.setData(i,this.cacheData),this.cacheData=null),this.appName=i,i!==s&&this.setAttribute("name",this.appName),this.handleInitialNameAndUrl()}else this.isWaiting||(this.isWaiting=!0,tt(this.handleAttributeUpdate))}handleInitialNameAndUrl(){this.connectStateMap.get(this.connectedCount)&&this.handleConnected()}handleConnected(){if(!(!this.appName||!this.appUrl))if(this.getDisposeResult("shadowDOM")&&!this.shadowRoot&&V(this.attachShadow)&&this.attachShadow({mode:"open"}),this.updateSsrUrl(this.appUrl),G.has(this.appName)){const r=G.get(this.appName),o=r.ssrUrl||r.url,s=this.ssrUrl||this.appUrl;r.isHidden()&&r.url===this.appUrl?this.handleShowKeepAliveApp(r):o===s&&(r.isUnmounted()||r.isPrefetch&&this.sameCoreOptions(r))?this.handleMount(r):r.isPrefetch||r.isUnmounted()?this.handleCreateApp():J(`app name conflict, an app named ${this.appName} with url ${o} is running`)}else this.handleCreateApp()}actionsForAttributeChange(r,o,s){var i;this.updateSsrUrl(o),this.appName=r,this.appUrl=o,((i=this.shadowRoot)!==null&&i!==void 0?i:this).innerHTML="",r!==this.getAttribute("name")&&this.setAttribute("name",this.appName),s?s.isHidden()?s.url===this.appUrl?this.handleShowKeepAliveApp(s):J(`app name conflict, an app named ${this.appName} is running`):s.url===this.appUrl&&s.ssrUrl===this.ssrUrl?this.handleMount(s):this.handleCreateApp():this.handleCreateApp()}legalAttribute(r,o){return!ce(o)||!o?(J(`unexpected attribute ${r}, please check again`,this.appName),!1):!0}handleCreateApp(){const r=()=>{var s;return new $l({name:this.appName,url:this.appUrl,container:(s=this.shadowRoot)!==null&&s!==void 0?s:this,scopecss:this.useScopecss(),useSandbox:this.useSandbox(),inline:this.getDisposeResult("inline"),iframe:this.getDisposeResult("iframe"),ssrUrl:this.ssrUrl,routerMode:this.getMemoryRouterMode()})},o=G.get(this.appName);o?o.isPrerender?this.unmount(!0,r):(o.actionsForCompletelyDestroy(),r()):r()}handleMount(r){r.isPrefetch=!1,r.setAppState(ve.BEFORE_MOUNT),tt(()=>this.mount(r))}mount(r){var o;r.mount({container:(o=this.shadowRoot)!==null&&o!==void 0?o:this,inline:this.getDisposeResult("inline"),routerMode:this.getMemoryRouterMode(),baseroute:this.getBaseRouteCompatible(),defaultPage:this.getDefaultPage(),disablePatchRequest:this.getDisposeResult("disable-patch-request"),fiber:this.getDisposeResult("fiber")})}unmount(r,o){const s=G.get(this.appName);s&&!s.isUnmounted()&&s.unmount({destroy:r||this.getDestroyCompatibleResult(),clearData:this.getDisposeResult("clear-data"),keepRouteState:this.getDisposeResult("keep-router-state"),unmountcb:o})}handleHiddenKeepAliveApp(r){const o=G.get(this.appName);o&&!o.isUnmounted()&&!o.isHidden()&&o.hiddenKeepAliveApp(r)}handleShowKeepAliveApp(r){tt(()=>{var o;return r.showKeepAliveApp((o=this.shadowRoot)!==null&&o!==void 0?o:this)})}getDisposeResult(r){return(this.compatibleProperties(r)||!!K.options[r])&&this.compatibleDisableProperties(r)}compatibleProperties(r){return r==="disable-scopecss"?this.hasAttribute("disable-scopecss")||this.hasAttribute("disableScopecss"):r==="disable-sandbox"?this.hasAttribute("disable-sandbox")||this.hasAttribute("disableSandbox"):this.hasAttribute(r)}compatibleDisableProperties(r){return r==="disable-scopecss"?this.getAttribute("disable-scopecss")!=="false"&&this.getAttribute("disableScopecss")!=="false":r==="disable-sandbox"?this.getAttribute("disable-sandbox")!=="false"&&this.getAttribute("disableSandbox")!=="false":this.getAttribute(r)!=="false"}useScopecss(){return!(this.getDisposeResult("disable-scopecss")||this.getDisposeResult("shadowDOM"))}useSandbox(){return!this.getDisposeResult("disable-sandbox")}sameCoreOptions(r){return r.scopecss===this.useScopecss()&&r.useSandbox===this.useSandbox()&&r.iframe===this.getDisposeResult("iframe")}getBaseRouteCompatible(){var r,o;return(o=(r=this.getAttribute("baseroute"))!==null&&r!==void 0?r:this.getAttribute("baseurl"))!==null&&o!==void 0?o:""}getDestroyCompatibleResult(){return this.getDisposeResult("destroy")||this.getDisposeResult("destory")}getKeepAliveModeResult(){return this.getDisposeResult("keep-alive")&&!this.getDestroyCompatibleResult()}updateSsrUrl(r){if(this.getDisposeResult("ssr"))if(this.getDisposeResult("disable-memory-router")||this.getDisposeResult("disableSandbox")){const o=g.rawWindow.location;this.ssrUrl=Be(o.pathname+o.search,r)}else{let o=ip(this.appName,r);const s=this.getDefaultPage();if(!o&&s){const i=ue(s,r);o=i.origin+i.pathname+i.search}this.ssrUrl=o}else this.ssrUrl&&(this.ssrUrl="")}getDefaultPage(){return cr.getDefaultPage(this.appName)||this.getAttribute("default-page")||this.getAttribute("defaultPage")||""}getMemoryRouterMode(){return Il(this.getAttribute("router-mode"),this.compatibleProperties("disable-memory-router")&&this.compatibleDisableProperties("disable-memory-router"))}setAttribute(r,o){if(r==="data")if(pe(o)){const s={};Object.getOwnPropertyNames(o).forEach(i=>{ce(i)&&i.indexOf("__")===0||(s[i]=o[i])}),this.data=s}else o!=="[object Object]"&&Kt("property data must be an object",this.appName);else g.rawSetAttribute.call(this,r,o)}set data(r){this.appName?K.setData(this.appName,r):this.cacheData=r}get data(){return this.appName?K.getData(this.appName,!0):this.cacheData?this.cacheData:null}get publicPath(){return Vr(this.appUrl)}get baseRoute(){return this.getBaseRouteCompatible()}}g.rawWindow.customElements.define(e,t)}function Ui(e,t){if(!is)return J("preFetch is only supported in browser environment");zr(()=>{const n=xo(t)?t:K.options.prefetchDelay;setTimeout(()=>{Xp(e)},xo(n)?n:3e3)})}function Xp(e){V(e)&&(e=e()),ft(e)&&e.reduce((t,n)=>t.then(()=>Yp(n)),Promise.resolve())}function Yp(e){return el(t=>{var n,r,o,s,i,c;if(pe(e)&&navigator.onLine)if(e.name=Ee(e.name),e.url=To(e.url,e.name),e.name&&e.url&&!G.has(e.name)){const l=new $l({name:e.name,url:e.url,isPrefetch:!0,scopecss:!((r=(n=e["disable-scopecss"])!==null&&n!==void 0?n:e.disableScopecss)!==null&&r!==void 0?r:K.options["disable-scopecss"]),useSandbox:!((s=(o=e["disable-sandbox"])!==null&&o!==void 0?o:e.disableSandbox)!==null&&s!==void 0?s:K.options["disable-sandbox"]),inline:(i=e.inline)!==null&&i!==void 0?i:K.options.inline,iframe:(c=e.iframe)!==null&&c!==void 0?c:K.options.iframe,prefetchLevel:e.level&&Ci.includes(e.level)?e.level:K.options.prefetchLevel&&Ci.includes(K.options.prefetchLevel)?K.options.prefetchLevel:2}),a=l.onLoad,u=l.onLoadError;l.onLoad=h=>{l.isPrerender&&Ge(h,{defaultPage:e["default-page"],routerMode:Il(e["router-mode"]),baseroute:e.baseroute,disablePatchRequest:e["disable-patch-request"]}),t(),a.call(l,h)},l.onLoadError=(...h)=>{t(),u.call(l,...h)}}else t();else t()})}function Jp(e){pe(e)&&zr(()=>{Bi(e.js,"js",He.script),Bi(e.css,"css",He.link)})}function Bi(e,t,n){if(ft(e)){const r=e.filter(s=>ce(s)&&kc(s,t)&&!n.hasInfo(s)),o=r.map(s=>tn(s));Qr(o,s=>{const i=r[s.index];t==="js"?n.hasInfo(i)||n.setInfo(i,{code:s.data,isExternal:!1,appSpace:{}}):n.hasInfo(i)||n.setInfo(i,{code:s.data,appSpace:{}})},s=>{J(s)})}}function dn({excludeHiddenApp:e=!1,excludePreRender:t=!1}={}){const n=[];return G.forEach((r,o)=>{!r.isUnmounted()&&(!r.isPrefetch||r.isPrerender&&!t)&&(!e||!r.isHidden())&&n.push(o)}),n}function Zp(){return Array.from(G.keys())}function Ql(e,t){const n=G.get(Ee(e));return new Promise(r=>{if(n)if(n.isUnmounted()||n.isPrefetch)n.isPrerender?n.unmount({destroy:!!(t!=null&&t.destroy),clearData:!!(t!=null&&t.clearData),keepRouteState:!1,unmountcb:r.bind(null,!0)}):(t!=null&&t.destroy&&n.actionsForCompletelyDestroy(),r(!0));else if(n.isHidden())t!=null&&t.destroy?n.unmount({destroy:!0,clearData:!0,keepRouteState:!0,unmountcb:r.bind(null,!0)}):t!=null&&t.clearAliveState?n.unmount({destroy:!1,clearData:!!t.clearData,keepRouteState:!0,unmountcb:r.bind(null,!0)}):r(!0);else{const o=yt(n.container),s=()=>{o.removeEventListener(ee.UNMOUNT,s),o.removeEventListener(ee.AFTERHIDDEN,i),r(!0)},i=()=>{o.removeEventListener(ee.UNMOUNT,s),o.removeEventListener(ee.AFTERHIDDEN,i),r(!0)};if(o.addEventListener(ee.UNMOUNT,s),o.addEventListener(ee.AFTERHIDDEN,i),t!=null&&t.destroy){let c,l;o.hasAttribute("destroy")&&(c=o.getAttribute("destroy")),o.hasAttribute("destory")&&(l=o.getAttribute("destory")),o.setAttribute("destroy","true"),o.parentNode.removeChild(o),o.removeAttribute("destroy"),ce(c)&&o.setAttribute("destroy",c),ce(l)&&o.setAttribute("destory",l)}else if(t!=null&&t.clearAliveState&&o.hasAttribute("keep-alive")){const c=o.getAttribute("keep-alive");o.removeAttribute("keep-alive");let l=null;t.clearData&&(l=o.getAttribute("clear-data"),o.setAttribute("clear-data","true")),o.parentNode.removeChild(o),o.setAttribute("keep-alive",c),ce(l)&&o.setAttribute("clear-data",l)}else{let c=null;t!=null&&t.clearData&&(c=o.getAttribute("clear-data"),o.setAttribute("clear-data","true")),o.parentNode.removeChild(o),ce(c)&&o.setAttribute("clear-data",c)}}else Kt(`app ${e} does not exist`),r(!1)})}function kp(e){return Array.from(G.keys()).reduce((t,n)=>t.then(()=>Ql(n,e)),Promise.resolve(!0))}function em(e,t){return new Promise(n=>{const r=G.get(Ee(e));if(r){const o=r.container&&yt(r.container);o?n(o.reload(t)):(Kt(`app ${e} is not rendered, cannot use reload`),n(!1))}else Kt(`app ${e} does not exist`),n(!1)})}function tm(e){return new Promise(t=>{if(!pe(e))return J("renderApp options must be an object");const n=Ht(e.container)?e.container:ce(e.container)?document.querySelector(e.container):null;if(!Ht(n))return J("Target container is not a DOM element.");const r=Fe(K.tagName);for(const c in e)if(c==="onDataChange")V(e[c])&&r.addEventListener("datachange",e[c]);else if(c==="lifeCycles"){const l=e[c];if(pe(l))for(const a in l)a.toUpperCase()in ee&&V(l[a])&&r.addEventListener(a.toLowerCase(),l[a])}else c!=="container"&&r.setAttribute(c,e[c]);const o=()=>{i(),t(!0)},s=()=>{i(),t(!1)},i=()=>{r.removeEventListener(ee.MOUNTED,o),r.removeEventListener(ee.ERROR,s)};r.addEventListener(ee.MOUNTED,o),r.addEventListener(ee.ERROR,s),n.appendChild(r)})}function nm(e){const t=G.get(Ee(e));if(t)return t.getLifeCycleState();Kt(`app ${e} does not exist`)}class rm extends qd{constructor(){super(...arguments),this.tagName="micro-app",this.hasInit=!1,this.options={},this.router=cr,this.preFetch=Ui,this.unmountApp=Ql,this.unmountAllApps=kp,this.getActiveApps=dn,this.getAllApps=Zp,this.reload=em,this.renderApp=tm,this.getAppStatus=nm}start(t){var n,r;if(!is||!window.customElements)return J("micro-app is not supported in this environment");if(this.hasInit)return J("microApp.start executed repeatedly");if(this.hasInit=!0,t!=null&&t.tagName)if(/^micro-app(-\S+)?/.test(t.tagName))this.tagName=t.tagName;else return J(`${t.tagName} is invalid tagName`);if(Qp(),g.rawWindow.customElements.get(this.tagName))return Kt(`element ${this.tagName} is already defined`);if(pe(t)&&(this.options=t,t["disable-scopecss"]=(n=t["disable-scopecss"])!==null&&n!==void 0?n:t.disableScopecss,t["disable-sandbox"]=(r=t["disable-sandbox"])!==null&&r!==void 0?r:t.disableSandbox,t.preFetchApps&&Ui(t.preFetchApps),t.globalAssets&&Jp(t.globalAssets),pe(t.plugins))){const o=t.plugins.modules;if(pe(o))for(const s in o){const i=Ee(s);i&&s!==i&&(o[i]=o[s],delete o[s])}}zp(this.tagName)}}const K=new rm;K.start();mf(Pf).use(Vh).mount("#app");
